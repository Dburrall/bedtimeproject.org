{"version":3,"file":"static/js/878.42fb6404.chunk.js","mappings":"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","sources":["../node_modules/@rexxars/eventsource-polyfill/src/eventsource.js","../node_modules/@sanity/client/lib/assets/assetsClient.js","../node_modules/@sanity/client/lib/auth/authClient.js","../node_modules/@sanity/client/lib/config.js","../node_modules/@sanity/client/lib/data/dataMethods.js","../node_modules/@sanity/client/lib/data/encodeQueryString.js","../node_modules/@sanity/client/lib/data/listen.js","../node_modules/@sanity/client/lib/data/patch.js","../node_modules/@sanity/client/lib/data/transaction.js","../node_modules/@sanity/client/lib/datasets/datasetsClient.js","../node_modules/@sanity/client/lib/http/browserMiddleware.js","../node_modules/@sanity/client/lib/http/errors.js","../node_modules/@sanity/client/lib/http/queryString.js","../node_modules/@sanity/client/lib/http/request.js","../node_modules/@sanity/client/lib/http/requestOptions.js","../node_modules/@sanity/client/lib/projects/projectsClient.js","../node_modules/@sanity/client/lib/sanityClient.js","../node_modules/@sanity/client/lib/users/usersClient.js","../node_modules/@sanity/client/lib/util/defaults.js","../node_modules/@sanity/client/lib/util/getSelection.js","../node_modules/@sanity/client/lib/util/observable.js","../node_modules/@sanity/client/lib/util/once.js","../node_modules/@sanity/client/lib/util/pick.js","../node_modules/@sanity/client/lib/validators.js","../node_modules/@sanity/client/lib/warnings.js","../node_modules/@sanity/eventsource/browser.js","../node_modules/@sanity/generate-help-url/index.js","../node_modules/get-it/index.js","../node_modules/get-it/src/index.js","../node_modules/get-it/src/middleware/defaultOptionsProcessor.js","../node_modules/get-it/src/middleware/defaultOptionsValidator.js","../node_modules/get-it/src/middleware/jsonRequest.js","../node_modules/get-it/src/middleware/jsonResponse.js","../node_modules/get-it/src/middleware/observable.js","../node_modules/get-it/src/middleware/progress/browser-progress.js","../node_modules/get-it/src/middleware/progress/index.js","../node_modules/get-it/src/request/browser-request.js","../node_modules/get-it/src/request/browser/fetchXhr.js","../node_modules/get-it/src/request/index.js","../node_modules/get-it/src/util/global.js","../node_modules/get-it/src/util/middlewareReducer.js","../node_modules/is-plain-object/index.js","../node_modules/isobject/index.js","../node_modules/make-error/index.js","../node_modules/nano-pubsub/index.js","../node_modules/parse-headers/parse-headers.js","../node_modules/querystringify/index.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/requires-port/index.js","../node_modules/rxjs/src/internal/Observable.ts","../node_modules/rxjs/src/internal/Observer.ts","../node_modules/rxjs/src/internal/Subscriber.ts","../node_modules/rxjs/src/internal/Subscription.ts","../node_modules/rxjs/src/internal/config.ts","../node_modules/rxjs/src/internal/operators/filter.ts","../node_modules/rxjs/src/internal/operators/map.ts","../node_modules/rxjs/src/internal/symbol/observable.ts","../node_modules/rxjs/src/internal/symbol/rxSubscriber.ts","../node_modules/rxjs/src/internal/util/UnsubscriptionError.ts","../node_modules/rxjs/src/internal/util/canReportError.ts","../node_modules/rxjs/src/internal/util/hostReportError.ts","../node_modules/rxjs/src/internal/util/identity.ts","../node_modules/rxjs/src/internal/util/isArray.ts","../node_modules/rxjs/src/internal/util/isFunction.ts","../node_modules/rxjs/src/internal/util/isObject.ts","../node_modules/rxjs/src/internal/util/pipe.ts","../node_modules/rxjs/src/internal/util/toSubscriber.ts","../node_modules/same-origin/index.js","../node_modules/same-origin/url-parser.js","../node_modules/url-parse/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../javascript/esm|/Users/alexanderburdiss/Documents/ReactWebsites/the-bedtime-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["/*\n * EventSource polyfill\n * Originally published by sc AmvTek srl (https://github.com/amvtek/EventSource) - devel@amvtek.com\n * Forked by Espen Hovlandsdal to fix a few issues + publish latest version\n */\n\n;(function (root, factory) {\n  /* global define */\n  if (typeof define === 'function' && define.amd) {\n    // AMD\n    define([], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory()\n  } else {\n    // Browser globals (root is window)\n    if (global.EventSource && !global._eventSourceImportPrefix) {\n      return\n    }\n\n    var evsImportName = (root._eventSourceImportPrefix || '') + 'EventSource'\n    root[evsImportName] = factory()\n  }\n})(typeof self === 'undefined' ? this : self, function () {\n  var EventSource = function (url, options) {\n    if (!url || typeof url != 'string') {\n      throw new SyntaxError('Not enough arguments')\n    }\n\n    this.URL = url\n    this.setOptions(options)\n    var evs = this\n    setTimeout(function () {\n      evs.poll()\n    }, 0)\n  }\n\n  EventSource.prototype = {\n    CONNECTING: 0,\n\n    OPEN: 1,\n\n    CLOSED: 2,\n\n    defaultOptions: {\n      loggingEnabled: false,\n\n      loggingPrefix: 'eventsource',\n\n      interval: 500, // milliseconds\n\n      bufferSizeLimit: 256 * 1024, // bytes\n\n      silentTimeout: 300000, // milliseconds\n\n      getArgs: {\n        evs_buffer_size_limit: 256 * 1024,\n      },\n\n      xhrHeaders: {\n        Accept: 'text/event-stream',\n        'Cache-Control': 'no-cache',\n        'X-Requested-With': 'XMLHttpRequest',\n      },\n    },\n\n    setOptions: function (options) {\n      var defaults = this.defaultOptions\n      var option\n\n      // set all default options...\n      for (option in defaults) {\n        if (defaults.hasOwnProperty(option)) {\n          this[option] = defaults[option]\n        }\n      }\n\n      // override with what is in options\n      for (option in options) {\n        if (option in defaults && options.hasOwnProperty(option)) {\n          this[option] = options[option]\n        }\n      }\n\n      // if getArgs option is enabled\n      // ensure evs_buffer_size_limit corresponds to bufferSizeLimit\n      if (this.getArgs && this.bufferSizeLimit) {\n        this.getArgs.evs_buffer_size_limit = this.bufferSizeLimit\n      }\n\n      // if console is not available, force loggingEnabled to false\n      // eslint-disable-next-line no-console\n      if (typeof console === 'undefined' || typeof console.log === 'undefined') {\n        this.loggingEnabled = false\n      }\n    },\n\n    log: function (message) {\n      if (this.loggingEnabled) {\n        // eslint-disable-next-line no-console\n        console.log('[' + this.loggingPrefix + ']:' + message)\n      }\n    },\n\n    poll: function () {\n      try {\n        if (this.readyState == this.CLOSED) {\n          return\n        }\n\n        this.cleanup()\n        this.readyState = this.CONNECTING\n        this.cursor = 0\n        this.cache = ''\n        this._xhr = new this.XHR(this)\n        this.resetNoActivityTimer()\n      } catch (err) {\n        // in an attempt to silence the errors\n        this.log('There were errors inside the pool try-catch')\n        this.dispatchEvent('error', {type: 'error', data: err.message})\n      }\n    },\n\n    pollAgain: function (interval) {\n      // schedule poll to be called after interval milliseconds\n      var evs = this\n      evs.readyState = evs.CONNECTING\n      evs.dispatchEvent('error', {\n        type: 'error',\n        data: 'Reconnecting ',\n      })\n      this._pollTimer = setTimeout(function () {\n        evs.poll()\n      }, interval || 0)\n    },\n\n    cleanup: function () {\n      this.log('evs cleaning up')\n\n      if (this._pollTimer) {\n        clearInterval(this._pollTimer)\n        this._pollTimer = null\n      }\n\n      if (this._noActivityTimer) {\n        clearInterval(this._noActivityTimer)\n        this._noActivityTimer = null\n      }\n\n      if (this._xhr) {\n        this._xhr.abort()\n        this._xhr = null\n      }\n    },\n\n    resetNoActivityTimer: function () {\n      if (this.silentTimeout) {\n        if (this._noActivityTimer) {\n          clearInterval(this._noActivityTimer)\n        }\n        var evs = this\n        this._noActivityTimer = setTimeout(function () {\n          evs.log('Timeout! silentTImeout:' + evs.silentTimeout)\n          evs.pollAgain()\n        }, this.silentTimeout)\n      }\n    },\n\n    close: function () {\n      this.readyState = this.CLOSED\n      this.log('Closing connection. readyState: ' + this.readyState)\n      this.cleanup()\n    },\n\n    _onxhrdata: function () {\n      var request = this._xhr\n\n      if (request.isReady() && !request.hasError()) {\n        // reset the timer, as we have activity\n        this.resetNoActivityTimer()\n\n        // move this EventSource to OPEN state...\n        if (this.readyState == this.CONNECTING) {\n          this.readyState = this.OPEN\n          this.dispatchEvent('open', {type: 'open'})\n        }\n\n        var buffer = request.getBuffer()\n\n        if (buffer.length > this.bufferSizeLimit) {\n          this.log('buffer.length > this.bufferSizeLimit')\n          this.pollAgain()\n        }\n\n        if (this.cursor == 0 && buffer.length > 0) {\n          // skip byte order mark \\uFEFF character if it starts the stream\n          if (buffer.substring(0, 1) == '\\uFEFF') {\n            this.cursor = 1\n          }\n        }\n\n        var lastMessageIndex = this.lastMessageIndex(buffer)\n        if (lastMessageIndex[0] >= this.cursor) {\n          var newcursor = lastMessageIndex[1]\n          var toparse = buffer.substring(this.cursor, newcursor)\n          this.parseStream(toparse)\n          this.cursor = newcursor\n        }\n\n        // if request is finished, reopen the connection\n        if (request.isDone()) {\n          this.log('request.isDone(). reopening the connection')\n          this.pollAgain(this.interval)\n        }\n      } else if (this.readyState !== this.CLOSED) {\n        this.log('this.readyState !== this.CLOSED')\n        this.pollAgain(this.interval)\n\n        //MV: Unsure why an error was previously dispatched\n      }\n    },\n\n    parseStream: function (chunk) {\n      // normalize line separators (\\r\\n,\\r,\\n) to \\n\n      // remove white spaces that may precede \\n\n      chunk = this.cache + this.normalizeToLF(chunk)\n\n      var events = chunk.split('\\n\\n')\n\n      var i, j, eventType, datas, line, retry\n\n      for (i = 0; i < events.length - 1; i++) {\n        eventType = 'message'\n        datas = []\n        var parts = events[i].split('\\n')\n\n        for (j = 0; j < parts.length; j++) {\n          line = this.trimWhiteSpace(parts[j])\n\n          if (line.indexOf('event') == 0) {\n            eventType = line.replace(/event:?\\s*/, '')\n          } else if (line.indexOf('retry') == 0) {\n            retry = parseInt(line.replace(/retry:?\\s*/, ''), 10)\n            if (!isNaN(retry)) {\n              this.interval = retry\n            }\n          } else if (line.indexOf('data') == 0) {\n            datas.push(line.replace(/data:?\\s*/, ''))\n          } else if (line.indexOf('id:') == 0) {\n            this.lastEventId = line.replace(/id:?\\s*/, '')\n          } else if (line.indexOf('id') == 0) {\n            // this resets the id\n\n            this.lastEventId = null\n          }\n        }\n\n        if (datas.length && this.readyState != this.CLOSED) {\n          // dispatch a new event\n          var event = new MessageEvent(\n            eventType,\n            datas.join('\\n'),\n            typeof window !== 'undefined' && typeof window.location !== 'undefined'\n              ? window.location.origin\n              : null,\n            this.lastEventId\n          )\n          this.dispatchEvent(eventType, event)\n        }\n      }\n\n      this.cache = events[events.length - 1]\n    },\n\n    dispatchEvent: function (type, event) {\n      var handlers = this['_' + type + 'Handlers']\n\n      if (handlers) {\n        for (var i = 0; i < handlers.length; i++) {\n          handlers[i].call(this, event)\n        }\n      }\n\n      if (this['on' + type]) {\n        this['on' + type].call(this, event)\n      }\n    },\n\n    addEventListener: function (type, handler) {\n      if (!this['_' + type + 'Handlers']) {\n        this['_' + type + 'Handlers'] = []\n      }\n\n      this['_' + type + 'Handlers'].push(handler)\n    },\n\n    removeEventListener: function (type, handler) {\n      var handlers = this['_' + type + 'Handlers']\n      if (!handlers) {\n        return\n      }\n      for (var i = handlers.length - 1; i >= 0; --i) {\n        if (handlers[i] === handler) {\n          handlers.splice(i, 1)\n          break\n        }\n      }\n    },\n\n    _pollTimer: null,\n\n    _noactivityTimer: null,\n\n    _xhr: null,\n\n    lastEventId: null,\n\n    cache: '',\n\n    cursor: 0,\n\n    onerror: null,\n\n    onmessage: null,\n\n    onopen: null,\n\n    readyState: 0,\n\n    // ===================================================================\n    // helpers functions\n    // those are attached to prototype to ease reuse and testing...\n\n    urlWithParams: function (baseURL, params) {\n      var encodedArgs = []\n\n      if (params) {\n        var key, urlarg\n        var urlize = encodeURIComponent\n\n        for (key in params) {\n          if (params.hasOwnProperty(key)) {\n            urlarg = urlize(key) + '=' + urlize(params[key])\n            encodedArgs.push(urlarg)\n          }\n        }\n      }\n\n      if (encodedArgs.length > 0) {\n        if (baseURL.indexOf('?') == -1) return baseURL + '?' + encodedArgs.join('&')\n        return baseURL + '&' + encodedArgs.join('&')\n      }\n      return baseURL\n    },\n\n    lastMessageIndex: function (text) {\n      var ln2 = text.lastIndexOf('\\n\\n')\n      var lr2 = text.lastIndexOf('\\r\\r')\n      var lrln2 = text.lastIndexOf('\\r\\n\\r\\n')\n\n      if (lrln2 > Math.max(ln2, lr2)) {\n        return [lrln2, lrln2 + 4]\n      }\n      return [Math.max(ln2, lr2), Math.max(ln2, lr2) + 2]\n    },\n\n    trimWhiteSpace: function (str) {\n      // to remove whitespaces left and right of string\n\n      var reTrim = /^(\\s|\\u00A0)+|(\\s|\\u00A0)+$/g\n      return str.replace(reTrim, '')\n    },\n\n    normalizeToLF: function (str) {\n      // replace \\r and \\r\\n with \\n\n      return str.replace(/\\r\\n|\\r/g, '\\n')\n    },\n  }\n\n  if (isOldIE()) {\n    EventSource.isPolyfill = 'IE_8-9'\n\n    // patch EventSource defaultOptions\n    var defaults = EventSource.prototype.defaultOptions\n    defaults.xhrHeaders = null // no headers will be sent\n    defaults.getArgs.evs_preamble = 2048 + 8\n\n    // EventSource will send request using Internet Explorer XDomainRequest\n    EventSource.prototype.XHR = function (evs) {\n      /* global XDomainRequest */\n      var request = new XDomainRequest()\n      this._request = request\n\n      // set handlers\n      request.onprogress = function () {\n        request._ready = true\n        evs._onxhrdata()\n      }\n\n      request.onload = function () {\n        this._loaded = true\n        evs._onxhrdata()\n      }\n\n      request.onerror = function () {\n        this._failed = true\n        evs.readyState = evs.CLOSED\n        evs.dispatchEvent('error', {\n          type: 'error',\n          data: 'XDomainRequest error',\n        })\n      }\n\n      request.ontimeout = function () {\n        this._failed = true\n        evs.readyState = evs.CLOSED\n        evs.dispatchEvent('error', {\n          type: 'error',\n          data: 'XDomainRequest timed out',\n        })\n      }\n\n      // XDomainRequest does not allow setting custom headers\n      // If EventSource has enabled the use of GET arguments\n      // we add parameters to URL so that server can adapt the stream...\n      var reqGetArgs = {}\n      if (evs.getArgs) {\n        // copy evs.getArgs in reqGetArgs\n        var defaultArgs = evs.getArgs\n        for (var key in defaultArgs) {\n          if (defaultArgs.hasOwnProperty(key)) {\n            reqGetArgs[key] = defaultArgs[key]\n          }\n        }\n        if (evs.lastEventId) {\n          reqGetArgs.evs_last_event_id = evs.lastEventId\n        }\n      }\n      // send the request\n\n      request.open('GET', evs.urlWithParams(evs.URL, reqGetArgs))\n      request.send()\n    }\n\n    EventSource.prototype.XHR.prototype = {\n      useXDomainRequest: true,\n\n      _request: null,\n\n      _ready: false, // true when progress events are dispatched\n\n      _loaded: false, // true when request has been loaded\n\n      _failed: false, // true if when request is in error\n\n      isReady: function () {\n        return this._request._ready\n      },\n\n      isDone: function () {\n        return this._request._loaded\n      },\n\n      hasError: function () {\n        return this._request._failed\n      },\n\n      getBuffer: function () {\n        var rv = ''\n        try {\n          rv = this._request.responseText || ''\n        } catch (err) {\n          // intentional noop\n        }\n        return rv\n      },\n\n      abort: function () {\n        if (this._request) {\n          this._request.abort()\n        }\n      },\n    }\n  } else {\n    EventSource.isPolyfill = 'XHR'\n\n    // EventSource will send request using XMLHttpRequest\n    EventSource.prototype.XHR = function (evs) {\n      var request = new XMLHttpRequest()\n      this._request = request\n      evs._xhr = this\n\n      // set handlers\n      request.onreadystatechange = function () {\n        if (request.readyState > 1 && evs.readyState != evs.CLOSED) {\n          if (request.status == 200 || (request.status >= 300 && request.status < 400)) {\n            evs._onxhrdata()\n          } else {\n            request._failed = true\n            evs.readyState = evs.CLOSED\n            evs.dispatchEvent('error', {\n              type: 'error',\n              data: 'The server responded with ' + request.status,\n            })\n            evs.close()\n          }\n        }\n      }\n\n      request.onprogress = function () {\n        // intentional noop\n      }\n\n      request.open('GET', evs.urlWithParams(evs.URL, evs.getArgs), true)\n\n      var headers = evs.xhrHeaders // maybe null\n      for (var header in headers) {\n        if (headers.hasOwnProperty(header)) {\n          request.setRequestHeader(header, headers[header])\n        }\n      }\n      if (evs.lastEventId) {\n        request.setRequestHeader('Last-Event-Id', evs.lastEventId)\n      }\n\n      request.send()\n    }\n\n    EventSource.prototype.XHR.prototype = {\n      useXDomainRequest: false,\n\n      _request: null,\n\n      _failed: false, // true if we have had errors...\n\n      isReady: function () {\n        return this._request.readyState >= 2\n      },\n\n      isDone: function () {\n        return this._request.readyState == 4\n      },\n\n      hasError: function () {\n        return this._failed || this._request.status >= 400\n      },\n\n      getBuffer: function () {\n        var rv = ''\n        try {\n          rv = this._request.responseText || ''\n        } catch (err) {\n          // intentional noop\n        }\n        return rv\n      },\n\n      abort: function () {\n        if (this._request) {\n          this._request.abort()\n        }\n      },\n    }\n  }\n\n  function MessageEvent(type, data, origin, lastEventId) {\n    this.bubbles = false\n    this.cancelBubble = false\n    this.cancelable = false\n    this.data = data || null\n    this.origin = origin || ''\n    this.lastEventId = lastEventId || ''\n    this.type = type || 'message'\n  }\n\n  function isOldIE() {\n    //return true if we are in IE8 or IE9\n    return Boolean(\n      typeof window !== 'undefined' &&\n        window.XDomainRequest &&\n        window.XMLHttpRequest &&\n        new XMLHttpRequest().responseType === undefined\n    )\n  }\n\n  return EventSource\n})\n","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar assign = require('object-assign');\n\nvar _require = require('../util/observable'),\n    map = _require.map,\n    filter = _require.filter;\n\nvar queryString = require('../http/queryString');\n\nvar validators = require('../validators');\n\nfunction AssetsClient(client) {\n  this.client = client;\n}\n\nfunction optionsFromFile(opts, file) {\n  if (typeof window === 'undefined' || !(file instanceof window.File)) {\n    return opts;\n  }\n\n  return assign({\n    filename: opts.preserveFilename === false ? undefined : file.name,\n    contentType: file.type\n  }, opts);\n}\n\nassign(AssetsClient.prototype, {\n  /**\n   * Upload an asset\n   *\n   * @param  {String} assetType `image` or `file`\n   * @param  {File|Blob|Buffer|ReadableStream} body File to upload\n   * @param  {Object}  opts Options for the upload\n   * @param  {Boolean} opts.preserveFilename Whether or not to preserve the original filename (default: true)\n   * @param  {String}  opts.filename Filename for this file (optional)\n   * @param  {Number}  opts.timeout  Milliseconds to wait before timing the request out (default: 0)\n   * @param  {String}  opts.contentType Mime type of the file\n   * @param  {Array}   opts.extract Array of metadata parts to extract from image.\n   *                                 Possible values: `location`, `exif`, `image`, `palette`\n   * @param  {String}  opts.label Label\n   * @param  {String}  opts.title Title\n   * @param  {String}  opts.description Description\n   * @param  {String}  opts.creditLine The credit to person(s) and/or organization(s) required by the supplier of the image to be used when published\n   * @param  {Object}  opts.source Source data (when the asset is from an external service)\n   * @param  {String}  opts.source.id The (u)id of the asset within the source, i.e. 'i-f323r1E'\n   *                                  Required if source is defined\n   * @param  {String}  opts.source.name The name of the source, i.e. 'unsplash'\n   *                                  Required if source is defined\n   * @param  {String}  opts.source.url A url to where to find the asset, or get more info about it in the source\n   *                                  Optional\n   * @return {Promise} Resolves with the created asset document\n   */\n  upload: function upload(assetType, body) {\n    var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    validators.validateAssetType(assetType); // If an empty array is given, explicitly set `none` to override API defaults\n\n    var meta = opts.extract || undefined;\n\n    if (meta && !meta.length) {\n      meta = ['none'];\n    }\n\n    var dataset = validators.hasDataset(this.client.clientConfig);\n    var assetEndpoint = assetType === 'image' ? 'images' : 'files';\n    var options = optionsFromFile(opts, body);\n    var tag = options.tag,\n        label = options.label,\n        title = options.title,\n        description = options.description,\n        creditLine = options.creditLine,\n        filename = options.filename,\n        source = options.source;\n    var query = {\n      label: label,\n      title: title,\n      description: description,\n      filename: filename,\n      meta: meta,\n      creditLine: creditLine\n    };\n\n    if (source) {\n      query.sourceId = source.id;\n      query.sourceName = source.name;\n      query.sourceUrl = source.url;\n    }\n\n    var observable = this.client._requestObservable({\n      tag: tag,\n      method: 'POST',\n      timeout: options.timeout || 0,\n      uri: \"/assets/\".concat(assetEndpoint, \"/\").concat(dataset),\n      headers: options.contentType ? {\n        'Content-Type': options.contentType\n      } : {},\n      query: query,\n      body: body\n    });\n\n    return this.client.isPromiseAPI() ? observable.pipe(filter(function (event) {\n      return event.type === 'response';\n    }), map(function (event) {\n      return event.body.document;\n    })).toPromise() : observable;\n  },\n  delete: function _delete(type, id) {\n    // eslint-disable-next-line no-console\n    console.warn('client.assets.delete() is deprecated, please use client.delete(<document-id>)');\n    var docId = id || '';\n\n    if (!/^(image|file)-/.test(docId)) {\n      docId = \"\".concat(type, \"-\").concat(docId);\n    } else if (type._id) {\n      // We could be passing an entire asset document instead of an ID\n      docId = type._id;\n    }\n\n    validators.hasDataset(this.client.clientConfig);\n    return this.client.delete(docId);\n  },\n  getImageUrl: function getImageUrl(ref, query) {\n    var id = ref._ref || ref;\n\n    if (typeof id !== 'string') {\n      throw new Error('getImageUrl() needs either an object with a _ref, or a string with an asset document ID');\n    }\n\n    if (!/^image-[A-Za-z0-9_]+-\\d+x\\d+-[a-z]{1,5}$/.test(id)) {\n      throw new Error(\"Unsupported asset ID \\\"\".concat(id, \"\\\". URL generation only works for auto-generated IDs.\"));\n    }\n\n    var _id$split = id.split('-'),\n        _id$split2 = _slicedToArray(_id$split, 4),\n        assetId = _id$split2[1],\n        size = _id$split2[2],\n        format = _id$split2[3];\n\n    validators.hasDataset(this.client.clientConfig);\n    var _this$client$clientCo = this.client.clientConfig,\n        projectId = _this$client$clientCo.projectId,\n        dataset = _this$client$clientCo.dataset;\n    var qs = query ? queryString(query) : '';\n    return \"https://cdn.sanity.io/images/\".concat(projectId, \"/\").concat(dataset, \"/\").concat(assetId, \"-\").concat(size, \".\").concat(format).concat(qs);\n  }\n});\nmodule.exports = AssetsClient;","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction AuthClient(client) {\n  this.client = client;\n}\n\nassign(AuthClient.prototype, {\n  getLoginProviders: function getLoginProviders() {\n    return this.client.request({\n      uri: '/auth/providers'\n    });\n  },\n  logout: function logout() {\n    return this.client.request({\n      uri: '/auth/logout',\n      method: 'POST'\n    });\n  }\n});\nmodule.exports = AuthClient;","\"use strict\";\n\nvar generateHelpUrl = require('@sanity/generate-help-url');\n\nvar assign = require('object-assign');\n\nvar validate = require('./validators');\n\nvar warnings = require('./warnings');\n\nvar defaultCdnHost = 'apicdn.sanity.io';\nvar defaultConfig = {\n  apiHost: 'https://api.sanity.io',\n  apiVersion: '1',\n  useProjectHostname: true,\n  isPromiseAPI: true\n};\nvar LOCALHOSTS = ['localhost', '127.0.0.1', '0.0.0.0'];\n\nvar isLocal = function isLocal(host) {\n  return LOCALHOSTS.indexOf(host) !== -1;\n};\n\nexports.defaultConfig = defaultConfig; // eslint-disable-next-line complexity\n\nexports.initConfig = function (config, prevConfig) {\n  var specifiedConfig = assign({}, prevConfig, config);\n\n  if (!specifiedConfig.apiVersion) {\n    warnings.printNoApiVersionSpecifiedWarning();\n  }\n\n  var newConfig = assign({}, defaultConfig, specifiedConfig);\n  var projectBased = newConfig.useProjectHostname;\n\n  if (typeof Promise === 'undefined') {\n    var helpUrl = generateHelpUrl('js-client-promise-polyfill');\n    throw new Error(\"No native Promise-implementation found, polyfill needed - see \".concat(helpUrl));\n  }\n\n  if (projectBased && !newConfig.projectId) {\n    throw new Error('Configuration must contain `projectId`');\n  }\n\n  var isBrowser = typeof window !== 'undefined' && window.location && window.location.hostname;\n  var isLocalhost = isBrowser && isLocal(window.location.hostname);\n\n  if (isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== true) {\n    warnings.printBrowserTokenWarning();\n  } else if (typeof newConfig.useCdn === 'undefined') {\n    warnings.printCdnWarning();\n  }\n\n  if (projectBased) {\n    validate.projectId(newConfig.projectId);\n  }\n\n  if (newConfig.dataset) {\n    validate.dataset(newConfig.dataset);\n  }\n\n  if ('requestTagPrefix' in newConfig) {\n    // Allow setting and unsetting request tag prefix\n    newConfig.requestTagPrefix = newConfig.requestTagPrefix ? validate.requestTag(newConfig.requestTagPrefix).replace(/\\.+$/, '') : undefined;\n  }\n\n  newConfig.apiVersion = \"\".concat(newConfig.apiVersion).replace(/^v/, '');\n  newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost;\n  newConfig.useCdn = Boolean(newConfig.useCdn) && !newConfig.withCredentials;\n  exports.validateApiVersion(newConfig.apiVersion);\n  var hostParts = newConfig.apiHost.split('://', 2);\n  var protocol = hostParts[0];\n  var host = hostParts[1];\n  var cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n\n  if (newConfig.useProjectHostname) {\n    newConfig.url = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(host, \"/v\").concat(newConfig.apiVersion);\n    newConfig.cdnUrl = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(cdnHost, \"/v\").concat(newConfig.apiVersion);\n  } else {\n    newConfig.url = \"\".concat(newConfig.apiHost, \"/v\").concat(newConfig.apiVersion);\n    newConfig.cdnUrl = newConfig.url;\n  }\n\n  return newConfig;\n};\n\nexports.validateApiVersion = function validateApiVersion(apiVersion) {\n  if (apiVersion === '1' || apiVersion === 'X') {\n    return;\n  }\n\n  var apiDate = new Date(apiVersion);\n  var apiVersionValid = /^\\d{4}-\\d{2}-\\d{2}$/.test(apiVersion) && apiDate instanceof Date && apiDate.getTime() > 0;\n\n  if (!apiVersionValid) {\n    throw new Error('Invalid API version string, expected `1` or date in format `YYYY-MM-DD`');\n  }\n};","\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar _require = require('../util/observable'),\n    map = _require.map,\n    filter = _require.filter;\n\nvar validators = require('../validators');\n\nvar getSelection = require('../util/getSelection');\n\nvar encodeQueryString = require('./encodeQueryString');\n\nvar Transaction = require('./transaction');\n\nvar Patch = require('./patch');\n\nvar listen = require('./listen');\n\nvar excludeFalsey = function excludeFalsey(param, defValue) {\n  var value = typeof param === 'undefined' ? defValue : param;\n  return param === false ? undefined : value;\n};\n\nvar getMutationQuery = function getMutationQuery() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return _objectSpread({\n    returnIds: true,\n    returnDocuments: excludeFalsey(options.returnDocuments, true),\n    visibility: options.visibility || 'sync'\n  }, options.skipCrossDatasetReferenceValidation && {\n    skipCrossDatasetReferenceValidation: options.skipCrossDatasetReferenceValidation\n  });\n};\n\nvar isResponse = function isResponse(event) {\n  return event.type === 'response';\n};\n\nvar getBody = function getBody(event) {\n  return event.body;\n};\n\nvar indexBy = function indexBy(docs, attr) {\n  return docs.reduce(function (indexed, doc) {\n    indexed[attr(doc)] = doc;\n    return indexed;\n  }, Object.create(null));\n};\n\nvar toPromise = function toPromise(observable) {\n  return observable.toPromise();\n};\n\nvar getQuerySizeLimit = 11264;\nmodule.exports = {\n  listen: listen,\n  getDataUrl: function getDataUrl(operation, path) {\n    var config = this.clientConfig;\n    var catalog = validators.hasDataset(config);\n    var baseUri = \"/\".concat(operation, \"/\").concat(catalog);\n    var uri = path ? \"\".concat(baseUri, \"/\").concat(path) : baseUri;\n    return \"/data\".concat(uri).replace(/\\/($|\\?)/, '$1');\n  },\n  fetch: function fetch(query, params) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var mapResponse = options.filterResponse === false ? function (res) {\n      return res;\n    } : function (res) {\n      return res.result;\n    };\n\n    var observable = this._dataRequest('query', {\n      query: query,\n      params: params\n    }, options).pipe(map(mapResponse));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  getDocument: function getDocument(id) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var options = {\n      uri: this.getDataUrl('doc', id),\n      json: true,\n      tag: opts.tag\n    };\n\n    var observable = this._requestObservable(options).pipe(filter(isResponse), map(function (event) {\n      return event.body.documents && event.body.documents[0];\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  getDocuments: function getDocuments(ids) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var options = {\n      uri: this.getDataUrl('doc', ids.join(',')),\n      json: true,\n      tag: opts.tag\n    };\n\n    var observable = this._requestObservable(options).pipe(filter(isResponse), map(function (event) {\n      var indexed = indexBy(event.body.documents || [], function (doc) {\n        return doc._id;\n      });\n      return ids.map(function (id) {\n        return indexed[id] || null;\n      });\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  create: function create(doc, options) {\n    return this._create(doc, 'create', options);\n  },\n  createIfNotExists: function createIfNotExists(doc, options) {\n    validators.requireDocumentId('createIfNotExists', doc);\n    return this._create(doc, 'createIfNotExists', options);\n  },\n  createOrReplace: function createOrReplace(doc, options) {\n    validators.requireDocumentId('createOrReplace', doc);\n    return this._create(doc, 'createOrReplace', options);\n  },\n  patch: function patch(selector, operations) {\n    return new Patch(selector, operations, this);\n  },\n  delete: function _delete(selection, options) {\n    return this.dataRequest('mutate', {\n      mutations: [{\n        delete: getSelection(selection)\n      }]\n    }, options);\n  },\n  mutate: function mutate(mutations, options) {\n    var mut = mutations instanceof Patch || mutations instanceof Transaction ? mutations.serialize() : mutations;\n    var muts = Array.isArray(mut) ? mut : [mut];\n    var transactionId = options && options.transactionId;\n    return this.dataRequest('mutate', {\n      mutations: muts,\n      transactionId: transactionId\n    }, options);\n  },\n  transaction: function transaction(operations) {\n    return new Transaction(operations, this);\n  },\n  dataRequest: function dataRequest(endpoint, body) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var request = this._dataRequest(endpoint, body, options);\n\n    return this.isPromiseAPI() ? toPromise(request) : request;\n  },\n  _dataRequest: function _dataRequest(endpoint, body) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var isMutation = endpoint === 'mutate';\n    var isQuery = endpoint === 'query'; // Check if the query string is within a configured threshold,\n    // in which case we can use GET. Otherwise, use POST.\n\n    var strQuery = !isMutation && encodeQueryString(body);\n    var useGet = !isMutation && strQuery.length < getQuerySizeLimit;\n    var stringQuery = useGet ? strQuery : '';\n    var returnFirst = options.returnFirst;\n    var timeout = options.timeout,\n        token = options.token,\n        tag = options.tag;\n    var uri = this.getDataUrl(endpoint, stringQuery);\n    var reqOptions = {\n      method: useGet ? 'GET' : 'POST',\n      uri: uri,\n      json: true,\n      body: useGet ? undefined : body,\n      query: isMutation && getMutationQuery(options),\n      timeout: timeout,\n      token: token,\n      tag: tag,\n      canUseCdn: isQuery\n    };\n    return this._requestObservable(reqOptions).pipe(filter(isResponse), map(getBody), map(function (res) {\n      if (!isMutation) {\n        return res;\n      } // Should we return documents?\n\n\n      var results = res.results || [];\n\n      if (options.returnDocuments) {\n        return returnFirst ? results[0] && results[0].document : results.map(function (mut) {\n          return mut.document;\n        });\n      } // Return a reduced subset\n\n\n      var key = returnFirst ? 'documentId' : 'documentIds';\n      var ids = returnFirst ? results[0] && results[0].id : results.map(function (mut) {\n        return mut.id;\n      });\n      return _defineProperty({\n        transactionId: res.transactionId,\n        results: results\n      }, key, ids);\n    }));\n  },\n  _create: function _create(doc, op) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var mutation = _defineProperty({}, op, doc);\n\n    var opts = assign({\n      returnFirst: true,\n      returnDocuments: true\n    }, options);\n    return this.dataRequest('mutate', {\n      mutations: [mutation]\n    }, opts);\n  }\n};","\"use strict\";\n\nvar _excluded = [\"tag\"];\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar enc = encodeURIComponent;\n\nmodule.exports = function (_ref) {\n  var query = _ref.query,\n      _ref$params = _ref.params,\n      params = _ref$params === void 0 ? {} : _ref$params,\n      _ref$options = _ref.options,\n      options = _ref$options === void 0 ? {} : _ref$options;\n\n  // We generally want tag at the start of the query string\n  var tag = options.tag,\n      opts = _objectWithoutProperties(options, _excluded);\n\n  var q = \"query=\".concat(enc(query));\n  var base = tag ? \"?tag=\".concat(enc(tag), \"&\").concat(q) : \"?\".concat(q);\n  var qString = Object.keys(params).reduce(function (qs, param) {\n    return \"\".concat(qs, \"&\").concat(enc(\"$\".concat(param)), \"=\").concat(enc(JSON.stringify(params[param])));\n  }, base);\n  return Object.keys(opts).reduce(function (qs, option) {\n    // Only include the option if it is truthy\n    return options[option] ? \"\".concat(qs, \"&\").concat(enc(option), \"=\").concat(enc(options[option])) : qs;\n  }, qString);\n};","\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar _require = require('../util/observable'),\n    Observable = _require.Observable;\n\nvar polyfilledEventSource = require('@sanity/eventsource');\n\nvar generateHelpUrl = require('@sanity/generate-help-url');\n\nvar pick = require('../util/pick');\n\nvar once = require('../util/once');\n\nvar defaults = require('../util/defaults');\n\nvar encodeQueryString = require('./encodeQueryString'); // Limit is 16K for a _request_, eg including headers. Have to account for an\n// unknown range of headers, but an average EventSource request from Chrome seems\n// to have around 700 bytes of cruft, so let us account for 1.2K to be \"safe\"\n\n\nvar MAX_URL_LENGTH = 16000 - 1200;\nvar tokenWarning = ['Using token with listeners is not supported in browsers. ', \"For more info, see \".concat(generateHelpUrl('js-client-listener-tokens-browser'), \".\")]; // eslint-disable-next-line no-console\n\nvar printTokenWarning = once(function () {\n  return console.warn(tokenWarning.join(' '));\n});\nvar isWindowEventSource = Boolean(typeof window !== 'undefined' && window.EventSource);\nvar EventSource = isWindowEventSource ? window.EventSource // Native browser EventSource\n: polyfilledEventSource; // Node.js, IE etc\n\nvar possibleOptions = ['includePreviousRevision', 'includeResult', 'visibility', 'effectFormat', 'tag'];\nvar defaultOptions = {\n  includeResult: true\n};\n\nmodule.exports = function listen(query, params) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _this$clientConfig = this.clientConfig,\n      url = _this$clientConfig.url,\n      token = _this$clientConfig.token,\n      withCredentials = _this$clientConfig.withCredentials,\n      requestTagPrefix = _this$clientConfig.requestTagPrefix;\n  var tag = opts.tag && requestTagPrefix ? [requestTagPrefix, opts.tag].join('.') : opts.tag;\n\n  var options = _objectSpread(_objectSpread({}, defaults(opts, defaultOptions)), {}, {\n    tag: tag\n  });\n\n  var listenOpts = pick(options, possibleOptions);\n  var qs = encodeQueryString({\n    query: query,\n    params: params,\n    options: listenOpts,\n    tag: tag\n  });\n  var uri = \"\".concat(url).concat(this.getDataUrl('listen', qs));\n\n  if (uri.length > MAX_URL_LENGTH) {\n    return new Observable(function (observer) {\n      return observer.error(new Error('Query too large for listener'));\n    });\n  }\n\n  var listenFor = options.events ? options.events : ['mutation'];\n  var shouldEmitReconnect = listenFor.indexOf('reconnect') !== -1;\n\n  if (token && isWindowEventSource) {\n    printTokenWarning();\n  }\n\n  var esOptions = {};\n\n  if (token || withCredentials) {\n    esOptions.withCredentials = true;\n  }\n\n  if (token) {\n    esOptions.headers = {\n      Authorization: \"Bearer \".concat(token)\n    };\n  }\n\n  return new Observable(function (observer) {\n    var es = getEventSource();\n    var reconnectTimer;\n    var stopped = false;\n\n    function onError() {\n      if (stopped) {\n        return;\n      }\n\n      emitReconnect(); // Allow event handlers of `emitReconnect` to cancel/close the reconnect attempt\n\n      if (stopped) {\n        return;\n      } // Unless we've explicitly stopped the ES (in which case `stopped` should be true),\n      // we should never be in a disconnected state. By default, EventSource will reconnect\n      // automatically, in which case it sets readyState to `CONNECTING`, but in some cases\n      // (like when a laptop lid is closed), it closes the connection. In these cases we need\n      // to explicitly reconnect.\n\n\n      if (es.readyState === EventSource.CLOSED) {\n        unsubscribe();\n        clearTimeout(reconnectTimer);\n        reconnectTimer = setTimeout(open, 100);\n      }\n    }\n\n    function onChannelError(err) {\n      observer.error(cooerceError(err));\n    }\n\n    function onMessage(evt) {\n      var event = parseEvent(evt);\n      return event instanceof Error ? observer.error(event) : observer.next(event);\n    }\n\n    function onDisconnect(evt) {\n      stopped = true;\n      unsubscribe();\n      observer.complete();\n    }\n\n    function unsubscribe() {\n      es.removeEventListener('error', onError, false);\n      es.removeEventListener('channelError', onChannelError, false);\n      es.removeEventListener('disconnect', onDisconnect, false);\n      listenFor.forEach(function (type) {\n        return es.removeEventListener(type, onMessage, false);\n      });\n      es.close();\n    }\n\n    function emitReconnect() {\n      if (shouldEmitReconnect) {\n        observer.next({\n          type: 'reconnect'\n        });\n      }\n    }\n\n    function getEventSource() {\n      var evs = new EventSource(uri, esOptions);\n      evs.addEventListener('error', onError, false);\n      evs.addEventListener('channelError', onChannelError, false);\n      evs.addEventListener('disconnect', onDisconnect, false);\n      listenFor.forEach(function (type) {\n        return evs.addEventListener(type, onMessage, false);\n      });\n      return evs;\n    }\n\n    function open() {\n      es = getEventSource();\n    }\n\n    function stop() {\n      stopped = true;\n      unsubscribe();\n    }\n\n    return stop;\n  });\n};\n\nfunction parseEvent(event) {\n  try {\n    var data = event.data && JSON.parse(event.data) || {};\n    return assign({\n      type: event.type\n    }, data);\n  } catch (err) {\n    return err;\n  }\n}\n\nfunction cooerceError(err) {\n  if (err instanceof Error) {\n    return err;\n  }\n\n  var evt = parseEvent(err);\n  return evt instanceof Error ? evt : new Error(extractErrorMessage(evt));\n}\n\nfunction extractErrorMessage(err) {\n  if (!err.error) {\n    return err.message || 'Unknown listener error';\n  }\n\n  if (err.error.description) {\n    return err.error.description;\n  }\n\n  return typeof err.error === 'string' ? err.error : JSON.stringify(err.error, null, 2);\n}","\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar getSelection = require('../util/getSelection');\n\nvar validate = require('../validators');\n\nvar validateObject = validate.validateObject;\nvar validateInsert = validate.validateInsert;\n\nfunction Patch(selection) {\n  var operations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var client = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  this.selection = selection;\n  this.operations = assign({}, operations);\n  this.client = client;\n}\n\nassign(Patch.prototype, {\n  clone: function clone() {\n    return new Patch(this.selection, assign({}, this.operations), this.client);\n  },\n  set: function set(props) {\n    return this._assign('set', props);\n  },\n  diffMatchPatch: function diffMatchPatch(props) {\n    validateObject('diffMatchPatch', props);\n    return this._assign('diffMatchPatch', props);\n  },\n  unset: function unset(attrs) {\n    if (!Array.isArray(attrs)) {\n      throw new Error('unset(attrs) takes an array of attributes to unset, non-array given');\n    }\n\n    this.operations = assign({}, this.operations, {\n      unset: attrs\n    });\n    return this;\n  },\n  setIfMissing: function setIfMissing(props) {\n    return this._assign('setIfMissing', props);\n  },\n  replace: function replace(props) {\n    validateObject('replace', props);\n    return this._set('set', {\n      $: props\n    }); // eslint-disable-line id-length\n  },\n  inc: function inc(props) {\n    return this._assign('inc', props);\n  },\n  dec: function dec(props) {\n    return this._assign('dec', props);\n  },\n  insert: function insert(at, selector, items) {\n    var _this$_assign;\n\n    validateInsert(at, selector, items);\n    return this._assign('insert', (_this$_assign = {}, _defineProperty(_this$_assign, at, selector), _defineProperty(_this$_assign, \"items\", items), _this$_assign));\n  },\n  append: function append(selector, items) {\n    return this.insert('after', \"\".concat(selector, \"[-1]\"), items);\n  },\n  prepend: function prepend(selector, items) {\n    return this.insert('before', \"\".concat(selector, \"[0]\"), items);\n  },\n  splice: function splice(selector, start, deleteCount, items) {\n    // Negative indexes doesn't mean the same in Sanity as they do in JS;\n    // -1 means \"actually at the end of the array\", which allows inserting\n    // at the end of the array without knowing its length. We therefore have\n    // to substract negative indexes by one to match JS. If you want Sanity-\n    // behaviour, just use `insert('replace', selector, items)` directly\n    var delAll = typeof deleteCount === 'undefined' || deleteCount === -1;\n    var startIndex = start < 0 ? start - 1 : start;\n    var delCount = delAll ? -1 : Math.max(0, start + deleteCount);\n    var delRange = startIndex < 0 && delCount >= 0 ? '' : delCount;\n    var rangeSelector = \"\".concat(selector, \"[\").concat(startIndex, \":\").concat(delRange, \"]\");\n    return this.insert('replace', rangeSelector, items || []);\n  },\n  ifRevisionId: function ifRevisionId(rev) {\n    this.operations.ifRevisionID = rev;\n    return this;\n  },\n  serialize: function serialize() {\n    return assign(getSelection(this.selection), this.operations);\n  },\n  toJSON: function toJSON() {\n    return this.serialize();\n  },\n  commit: function commit() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!this.client) {\n      throw new Error('No `client` passed to patch, either provide one or pass the ' + 'patch to a clients `mutate()` method');\n    }\n\n    var returnFirst = typeof this.selection === 'string';\n    var opts = assign({\n      returnFirst: returnFirst,\n      returnDocuments: true\n    }, options);\n    return this.client.mutate({\n      patch: this.serialize()\n    }, opts);\n  },\n  reset: function reset() {\n    this.operations = {};\n    return this;\n  },\n  _set: function _set(op, props) {\n    return this._assign(op, props, false);\n  },\n  _assign: function _assign(op, props) {\n    var merge = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    validateObject(op, props);\n    this.operations = assign({}, this.operations, _defineProperty({}, op, assign({}, merge && this.operations[op] || {}, props)));\n    return this;\n  }\n});\nmodule.exports = Patch;","\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar validators = require('../validators');\n\nvar Patch = require('./patch');\n\nvar defaultMutateOptions = {\n  returnDocuments: false\n};\n\nfunction Transaction() {\n  var operations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var client = arguments.length > 1 ? arguments[1] : undefined;\n  var transactionId = arguments.length > 2 ? arguments[2] : undefined;\n  this.trxId = transactionId;\n  this.operations = operations;\n  this.client = client;\n}\n\nassign(Transaction.prototype, {\n  clone: function clone() {\n    return new Transaction(this.operations.slice(0), this.client, this.trxId);\n  },\n  create: function create(doc) {\n    validators.validateObject('create', doc);\n    return this._add({\n      create: doc\n    });\n  },\n  createIfNotExists: function createIfNotExists(doc) {\n    var op = 'createIfNotExists';\n    validators.validateObject(op, doc);\n    validators.requireDocumentId(op, doc);\n    return this._add(_defineProperty({}, op, doc));\n  },\n  createOrReplace: function createOrReplace(doc) {\n    var op = 'createOrReplace';\n    validators.validateObject(op, doc);\n    validators.requireDocumentId(op, doc);\n    return this._add(_defineProperty({}, op, doc));\n  },\n  delete: function _delete(documentId) {\n    validators.validateDocumentId('delete', documentId);\n    return this._add({\n      delete: {\n        id: documentId\n      }\n    });\n  },\n  patch: function patch(documentId, patchOps) {\n    var isBuilder = typeof patchOps === 'function';\n    var isPatch = documentId instanceof Patch; // transaction.patch(client.patch('documentId').inc({visits: 1}))\n\n    if (isPatch) {\n      return this._add({\n        patch: documentId.serialize()\n      });\n    } // patch => patch.inc({visits: 1}).set({foo: 'bar'})\n\n\n    if (isBuilder) {\n      var patch = patchOps(new Patch(documentId, {}, this.client));\n\n      if (!(patch instanceof Patch)) {\n        throw new Error('function passed to `patch()` must return the patch');\n      }\n\n      return this._add({\n        patch: patch.serialize()\n      });\n    }\n\n    return this._add({\n      patch: assign({\n        id: documentId\n      }, patchOps)\n    });\n  },\n  transactionId: function transactionId(id) {\n    if (!id) {\n      return this.trxId;\n    }\n\n    this.trxId = id;\n    return this;\n  },\n  serialize: function serialize() {\n    return this.operations.slice();\n  },\n  toJSON: function toJSON() {\n    return this.serialize();\n  },\n  commit: function commit(options) {\n    if (!this.client) {\n      throw new Error('No `client` passed to transaction, either provide one or pass the ' + 'transaction to a clients `mutate()` method');\n    }\n\n    return this.client.mutate(this.serialize(), assign({\n      transactionId: this.trxId\n    }, defaultMutateOptions, options || {}));\n  },\n  reset: function reset() {\n    this.operations = [];\n    return this;\n  },\n  _add: function _add(mut) {\n    this.operations.push(mut);\n    return this;\n  }\n});\nmodule.exports = Transaction;","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar validate = require('../validators');\n\nfunction DatasetsClient(client) {\n  this.request = client.request.bind(client);\n}\n\nassign(DatasetsClient.prototype, {\n  create: function create(name, options) {\n    return this._modify('PUT', name, options);\n  },\n  edit: function edit(name, options) {\n    return this._modify('PATCH', name, options);\n  },\n  delete: function _delete(name) {\n    return this._modify('DELETE', name);\n  },\n  list: function list() {\n    return this.request({\n      uri: '/datasets'\n    });\n  },\n  _modify: function _modify(method, name, body) {\n    validate.dataset(name);\n    return this.request({\n      method: method,\n      uri: \"/datasets/\".concat(name),\n      body: body\n    });\n  }\n});\nmodule.exports = DatasetsClient;","\"use strict\";\n\nmodule.exports = [];","\"use strict\";\n\nvar makeError = require('make-error');\n\nvar assign = require('object-assign');\n\nfunction ClientError(res) {\n  var props = extractErrorProps(res);\n  ClientError.super.call(this, props.message);\n  assign(this, props);\n}\n\nfunction ServerError(res) {\n  var props = extractErrorProps(res);\n  ServerError.super.call(this, props.message);\n  assign(this, props);\n}\n\nfunction extractErrorProps(res) {\n  var body = res.body;\n  var props = {\n    response: res,\n    statusCode: res.statusCode,\n    responseBody: stringifyBody(body, res)\n  }; // API/Boom style errors ({statusCode, error, message})\n\n  if (body.error && body.message) {\n    props.message = \"\".concat(body.error, \" - \").concat(body.message);\n    return props;\n  } // Query/database errors ({error: {description, other, arb, props}})\n\n\n  if (body.error && body.error.description) {\n    props.message = body.error.description;\n    props.details = body.error;\n    return props;\n  } // Other, more arbitrary errors\n\n\n  props.message = body.error || body.message || httpErrorMessage(res);\n  return props;\n}\n\nfunction httpErrorMessage(res) {\n  var statusMessage = res.statusMessage ? \" \".concat(res.statusMessage) : '';\n  return \"\".concat(res.method, \"-request to \").concat(res.url, \" resulted in HTTP \").concat(res.statusCode).concat(statusMessage);\n}\n\nfunction stringifyBody(body, res) {\n  var contentType = (res.headers['content-type'] || '').toLowerCase();\n  var isJson = contentType.indexOf('application/json') !== -1;\n  return isJson ? JSON.stringify(body, null, 2) : body;\n}\n\nmakeError(ClientError);\nmakeError(ServerError);\nexports.ClientError = ClientError;\nexports.ServerError = ServerError;","\"use strict\";\n\nmodule.exports = function (params) {\n  var qs = [];\n\n  for (var key in params) {\n    if (params.hasOwnProperty(key)) {\n      qs.push(\"\".concat(encodeURIComponent(key), \"=\").concat(encodeURIComponent(params[key])));\n    }\n  }\n\n  return qs.length > 0 ? \"?\".concat(qs.join('&')) : '';\n};","\"use strict\";\n\n/* eslint-disable no-empty-function, no-process-env */\nvar getIt = require('get-it');\n\nvar assign = require('object-assign');\n\nvar observable = require('get-it/lib/middleware/observable');\n\nvar jsonRequest = require('get-it/lib/middleware/jsonRequest');\n\nvar jsonResponse = require('get-it/lib/middleware/jsonResponse');\n\nvar progress = require('get-it/lib/middleware/progress');\n\nvar _require = require('../util/observable'),\n    Observable = _require.Observable;\n\nvar _require2 = require('./errors'),\n    ClientError = _require2.ClientError,\n    ServerError = _require2.ServerError;\n\nvar httpError = {\n  onResponse: function onResponse(res) {\n    if (res.statusCode >= 500) {\n      throw new ServerError(res);\n    } else if (res.statusCode >= 400) {\n      throw new ClientError(res);\n    }\n\n    return res;\n  }\n};\nvar printWarnings = {\n  onResponse: function onResponse(res) {\n    var warn = res.headers['x-sanity-warning'];\n    var warnings = Array.isArray(warn) ? warn : [warn];\n    warnings.filter(Boolean).forEach(function (msg) {\n      return console.warn(msg);\n    }); // eslint-disable-line no-console\n\n    return res;\n  }\n}; // Environment-specific middleware.\n\nvar envSpecific = require('./nodeMiddleware');\n\nvar middleware = envSpecific.concat([printWarnings, jsonRequest(), jsonResponse(), progress(), httpError, observable({\n  implementation: Observable\n})]);\nvar request = getIt(middleware);\n\nfunction httpRequest(options) {\n  var requester = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : request;\n  return requester(assign({\n    maxRedirects: 0\n  }, options));\n}\n\nhttpRequest.defaultRequester = request;\nhttpRequest.ClientError = ClientError;\nhttpRequest.ServerError = ServerError;\nmodule.exports = httpRequest;","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar projectHeader = 'X-Sanity-Project-ID';\n\nmodule.exports = function (config) {\n  var overrides = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var headers = {};\n  var token = overrides.token || config.token;\n\n  if (token) {\n    headers.Authorization = \"Bearer \".concat(token);\n  }\n\n  if (!overrides.useGlobalApi && !config.useProjectHostname && config.projectId) {\n    headers[projectHeader] = config.projectId;\n  }\n\n  var withCredentials = Boolean(typeof overrides.withCredentials === 'undefined' ? config.token || config.withCredentials : overrides.withCredentials);\n  var timeout = typeof overrides.timeout === 'undefined' ? config.timeout : overrides.timeout;\n  return assign({}, overrides, {\n    headers: assign({}, headers, overrides.headers || {}),\n    timeout: typeof timeout === 'undefined' ? 5 * 60 * 1000 : timeout,\n    proxy: overrides.proxy || config.proxy,\n    json: true,\n    withCredentials: withCredentials\n  });\n};","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction ProjectsClient(client) {\n  this.client = client;\n}\n\nassign(ProjectsClient.prototype, {\n  list: function list() {\n    return this.client.request({\n      uri: '/projects'\n    });\n  },\n  getById: function getById(id) {\n    return this.client.request({\n      uri: \"/projects/\".concat(id)\n    });\n  }\n});\nmodule.exports = ProjectsClient;","\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar _require = require('./util/observable'),\n    Observable = _require.Observable,\n    map = _require.map,\n    filter = _require.filter;\n\nvar Patch = require('./data/patch');\n\nvar Transaction = require('./data/transaction');\n\nvar dataMethods = require('./data/dataMethods');\n\nvar DatasetsClient = require('./datasets/datasetsClient');\n\nvar ProjectsClient = require('./projects/projectsClient');\n\nvar AssetsClient = require('./assets/assetsClient');\n\nvar UsersClient = require('./users/usersClient');\n\nvar AuthClient = require('./auth/authClient');\n\nvar httpRequest = require('./http/request');\n\nvar getRequestOptions = require('./http/requestOptions');\n\nvar _require2 = require('./config'),\n    defaultConfig = _require2.defaultConfig,\n    initConfig = _require2.initConfig;\n\nvar validate = require('./validators');\n\nvar toPromise = function toPromise(observable) {\n  return observable.toPromise();\n};\n\nfunction SanityClient() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultConfig;\n\n  if (!(this instanceof SanityClient)) {\n    return new SanityClient(config);\n  }\n\n  this.config(config);\n  this.assets = new AssetsClient(this);\n  this.datasets = new DatasetsClient(this);\n  this.projects = new ProjectsClient(this);\n  this.users = new UsersClient(this);\n  this.auth = new AuthClient(this);\n\n  if (this.clientConfig.isPromiseAPI) {\n    var observableConfig = assign({}, this.clientConfig, {\n      isPromiseAPI: false\n    });\n    this.observable = new SanityClient(observableConfig);\n  }\n}\n\nassign(SanityClient.prototype, dataMethods);\nassign(SanityClient.prototype, {\n  clone: function clone() {\n    return new SanityClient(this.config());\n  },\n  config: function config(newConfig) {\n    if (typeof newConfig === 'undefined') {\n      return assign({}, this.clientConfig);\n    }\n\n    if (this.observable) {\n      var observableConfig = assign({}, newConfig, {\n        isPromiseAPI: false\n      });\n      this.observable.config(observableConfig);\n    }\n\n    this.clientConfig = initConfig(newConfig, this.clientConfig || {});\n    return this;\n  },\n  withConfig: function withConfig(newConfig) {\n    return this.clone().config(newConfig);\n  },\n  getUrl: function getUrl(uri) {\n    var useCdn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var base = useCdn ? this.clientConfig.cdnUrl : this.clientConfig.url;\n    return \"\".concat(base, \"/\").concat(uri.replace(/^\\//, ''));\n  },\n  isPromiseAPI: function isPromiseAPI() {\n    return this.clientConfig.isPromiseAPI;\n  },\n  _requestObservable: function _requestObservable(options) {\n    var _this = this;\n\n    var uri = options.url || options.uri; // If the `canUseCdn`-option is not set we detect it automatically based on the method + URL.\n    // Only the /data endpoint is currently available through API-CDN.\n\n    var canUseCdn = typeof options.canUseCdn === 'undefined' ? ['GET', 'HEAD'].indexOf(options.method || 'GET') >= 0 && uri.indexOf('/data/') === 0 : options.canUseCdn;\n    var useCdn = this.clientConfig.useCdn && canUseCdn;\n    var tag = options.tag && this.clientConfig.requestTagPrefix ? [this.clientConfig.requestTagPrefix, options.tag].join('.') : options.tag || this.clientConfig.requestTagPrefix;\n\n    if (tag) {\n      options.query = _objectSpread({\n        tag: validate.requestTag(tag)\n      }, options.query);\n    }\n\n    var reqOptions = getRequestOptions(this.clientConfig, assign({}, options, {\n      url: this.getUrl(uri, useCdn)\n    }));\n    return new Observable(function (subscriber) {\n      return httpRequest(reqOptions, _this.clientConfig.requester).subscribe(subscriber);\n    });\n  },\n  request: function request(options) {\n    var observable = this._requestObservable(options).pipe(filter(function (event) {\n      return event.type === 'response';\n    }), map(function (event) {\n      return event.body;\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  }\n});\nSanityClient.Patch = Patch;\nSanityClient.Transaction = Transaction;\nSanityClient.ClientError = httpRequest.ClientError;\nSanityClient.ServerError = httpRequest.ServerError;\nSanityClient.requester = httpRequest.defaultRequester;\nmodule.exports = SanityClient;","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction UsersClient(client) {\n  this.client = client;\n}\n\nassign(UsersClient.prototype, {\n  getById: function getById(id) {\n    return this.client.request({\n      uri: \"/users/\".concat(id)\n    });\n  }\n});\nmodule.exports = UsersClient;","\"use strict\";\n\nmodule.exports = function (obj, defaults) {\n  return Object.keys(defaults).concat(Object.keys(obj)).reduce(function (target, prop) {\n    target[prop] = typeof obj[prop] === 'undefined' ? defaults[prop] : obj[prop];\n    return target;\n  }, {});\n};","\"use strict\";\n\nmodule.exports = function getSelection(sel) {\n  if (typeof sel === 'string' || Array.isArray(sel)) {\n    return {\n      id: sel\n    };\n  }\n\n  if (sel && sel.query) {\n    return 'params' in sel ? {\n      query: sel.query,\n      params: sel.params\n    } : {\n      query: sel.query\n    };\n  }\n\n  var selectionOpts = ['* Document ID (<docId>)', '* Array of document IDs', '* Object containing `query`'].join('\\n');\n  throw new Error(\"Unknown selection - must be one of:\\n\\n\".concat(selectionOpts));\n};","\"use strict\";\n\n//  Since `@sanity/client` doesn't offer ESM exports (yet) const {filter} = require('rxjs/operators') will cause the the whole of rxjs to be included in the bundle.\n//  The internal import paths here is a stop-gap measure and will become less of a problem when @sanity/client export tree-shakeable esm bundles\nvar _require = require('rxjs/internal/Observable'),\n    Observable = _require.Observable;\n\nvar _require2 = require('rxjs/internal/operators/filter'),\n    filter = _require2.filter;\n\nvar _require3 = require('rxjs/internal/operators/map'),\n    map = _require3.map;\n\nmodule.exports = {\n  Observable: Observable,\n  filter: filter,\n  map: map\n};","\"use strict\";\n\nmodule.exports = function (fn) {\n  var didCall = false;\n  var returnValue;\n  return function () {\n    if (didCall) {\n      return returnValue;\n    }\n\n    returnValue = fn.apply(void 0, arguments);\n    didCall = true;\n    return returnValue;\n  };\n};","\"use strict\";\n\nmodule.exports = function (obj, props) {\n  return props.reduce(function (selection, prop) {\n    if (typeof obj[prop] === 'undefined') {\n      return selection;\n    }\n\n    selection[prop] = obj[prop];\n    return selection;\n  }, {});\n};","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar VALID_ASSET_TYPES = ['image', 'file'];\nvar VALID_INSERT_LOCATIONS = ['before', 'after', 'replace'];\n\nexports.dataset = function (name) {\n  if (!/^(~[a-z0-9]{1}[-\\w]{0,63}|[a-z0-9]{1}[-\\w]{0,63})$/.test(name)) {\n    throw new Error('Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters');\n  }\n};\n\nexports.projectId = function (id) {\n  if (!/^[-a-z0-9]+$/i.test(id)) {\n    throw new Error('`projectId` can only contain only a-z, 0-9 and dashes');\n  }\n};\n\nexports.validateAssetType = function (type) {\n  if (VALID_ASSET_TYPES.indexOf(type) === -1) {\n    throw new Error(\"Invalid asset type: \".concat(type, \". Must be one of \").concat(VALID_ASSET_TYPES.join(', ')));\n  }\n};\n\nexports.validateObject = function (op, val) {\n  if (val === null || _typeof(val) !== 'object' || Array.isArray(val)) {\n    throw new Error(\"\".concat(op, \"() takes an object of properties\"));\n  }\n};\n\nexports.requireDocumentId = function (op, doc) {\n  if (!doc._id) {\n    throw new Error(\"\".concat(op, \"() requires that the document contains an ID (\\\"_id\\\" property)\"));\n  }\n\n  exports.validateDocumentId(op, doc._id);\n};\n\nexports.validateDocumentId = function (op, id) {\n  if (typeof id !== 'string' || !/^[a-z0-9_.-]+$/i.test(id)) {\n    throw new Error(\"\".concat(op, \"(): \\\"\").concat(id, \"\\\" is not a valid document ID\"));\n  }\n};\n\nexports.validateInsert = function (at, selector, items) {\n  var signature = 'insert(at, selector, items)';\n\n  if (VALID_INSERT_LOCATIONS.indexOf(at) === -1) {\n    var valid = VALID_INSERT_LOCATIONS.map(function (loc) {\n      return \"\\\"\".concat(loc, \"\\\"\");\n    }).join(', ');\n    throw new Error(\"\".concat(signature, \" takes an \\\"at\\\"-argument which is one of: \").concat(valid));\n  }\n\n  if (typeof selector !== 'string') {\n    throw new Error(\"\".concat(signature, \" takes a \\\"selector\\\"-argument which must be a string\"));\n  }\n\n  if (!Array.isArray(items)) {\n    throw new Error(\"\".concat(signature, \" takes an \\\"items\\\"-argument which must be an array\"));\n  }\n};\n\nexports.hasDataset = function (config) {\n  if (!config.dataset) {\n    throw new Error('`dataset` must be provided to perform queries');\n  }\n\n  return config.dataset || '';\n};\n\nexports.requestTag = function (tag) {\n  if (typeof tag !== 'string' || !/^[a-z0-9._-]{1,75}$/i.test(tag)) {\n    throw new Error(\"Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.\");\n  }\n\n  return tag;\n};","\"use strict\";\n\nvar generateHelpUrl = require('@sanity/generate-help-url');\n\nvar once = require('./util/once');\n\nvar createWarningPrinter = function createWarningPrinter(message) {\n  return (// eslint-disable-next-line no-console\n    once(function () {\n      var _console;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return (_console = console).warn.apply(_console, [message.join(' ')].concat(args));\n    })\n  );\n};\n\nexports.printCdnWarning = createWarningPrinter(['You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and', \"cheaper. Think about it! For more info, see \".concat(generateHelpUrl('js-client-cdn-configuration'), \".\"), 'To hide this warning, please set the `useCdn` option to either `true` or `false` when creating', 'the client.']);\nexports.printBrowserTokenWarning = createWarningPrinter(['You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.', \"See \".concat(generateHelpUrl('js-client-browser-token'), \" for more information and how to hide this warning.\")]);\nexports.printNoApiVersionSpecifiedWarning = createWarningPrinter(['Using the Sanity client without specifying an API version is deprecated.', \"See \".concat(generateHelpUrl('js-client-api-version'))]);","/* eslint-disable no-var */\nvar evs = require('@rexxars/eventsource-polyfill')\n\nmodule.exports =\n  typeof window === 'undefined' || !window.EventSource\n    ? // Use polyfill in non-browser/legacy environments\n      evs.EventSource\n    : // Use native EventSource when we can\n      window.EventSource\n","var baseUrl = 'https://docs.sanity.io/help/'\n\nmodule.exports = function generateHelpUrl(slug) {\n  return baseUrl + slug\n}\n","module.exports = require('./lib-node')\n","const pubsub = require('nano-pubsub')\nconst middlewareReducer = require('./util/middlewareReducer')\nconst processOptions = require('./middleware/defaultOptionsProcessor')\nconst validateOptions = require('./middleware/defaultOptionsValidator')\nconst httpRequester = require('./request') // node-request in node, browser-request in browsers\n\nconst channelNames = ['request', 'response', 'progress', 'error', 'abort']\nconst middlehooks = [\n  'processOptions',\n  'validateOptions',\n  'interceptRequest',\n  'finalizeOptions',\n  'onRequest',\n  'onResponse',\n  'onError',\n  'onReturn',\n  'onHeaders'\n]\n\nmodule.exports = function createRequester(initMiddleware = [], httpRequest = httpRequester) {\n  const loadedMiddleware = []\n  const middleware = middlehooks.reduce(\n    (ware, name) => {\n      ware[name] = ware[name] || []\n      return ware\n    },\n    {\n      processOptions: [processOptions],\n      validateOptions: [validateOptions]\n    }\n  )\n\n  function request(opts) {\n    const channels = channelNames.reduce((target, name) => {\n      target[name] = pubsub()\n      return target\n    }, {})\n\n    // Prepare a middleware reducer that can be reused throughout the lifecycle\n    const applyMiddleware = middlewareReducer(middleware)\n\n    // Parse the passed options\n    const options = applyMiddleware('processOptions', opts)\n\n    // Validate the options\n    applyMiddleware('validateOptions', options)\n\n    // Build a context object we can pass to child handlers\n    const context = {options, channels, applyMiddleware}\n\n    // We need to hold a reference to the current, ongoing request,\n    // in order to allow cancellation. In the case of the retry middleware,\n    // a new request might be triggered\n    let ongoingRequest = null\n    const unsubscribe = channels.request.subscribe(ctx => {\n      // Let request adapters (node/browser) perform the actual request\n      ongoingRequest = httpRequest(ctx, (err, res) => onResponse(err, res, ctx))\n    })\n\n    // If we abort the request, prevent further requests from happening,\n    // and be sure to cancel any ongoing request (obviously)\n    channels.abort.subscribe(() => {\n      unsubscribe()\n      if (ongoingRequest) {\n        ongoingRequest.abort()\n      }\n    })\n\n    // See if any middleware wants to modify the return value - for instance\n    // the promise or observable middlewares\n    const returnValue = applyMiddleware('onReturn', channels, context)\n\n    // If return value has been modified by a middleware, we expect the middleware\n    // to publish on the 'request' channel. If it hasn't been modified, we want to\n    // trigger it right away\n    if (returnValue === channels) {\n      channels.request.publish(context)\n    }\n\n    return returnValue\n\n    function onResponse(reqErr, res, ctx) {\n      let error = reqErr\n      let response = res\n\n      // We're processing non-errors first, in case a middleware converts the\n      // response into an error (for instance, status >= 400 == HttpError)\n      if (!error) {\n        try {\n          response = applyMiddleware('onResponse', res, ctx)\n        } catch (err) {\n          response = null\n          error = err\n        }\n      }\n\n      // Apply error middleware - if middleware return the same (or a different) error,\n      // publish as an error event. If we *don't* return an error, assume it has been handled\n      error = error && applyMiddleware('onError', error, ctx)\n\n      // Figure out if we should publish on error/response channels\n      if (error) {\n        channels.error.publish(error)\n      } else if (response) {\n        channels.response.publish(response)\n      }\n    }\n  }\n\n  request.use = function use(newMiddleware) {\n    if (!newMiddleware) {\n      throw new Error('Tried to add middleware that resolved to falsey value')\n    }\n\n    if (typeof newMiddleware === 'function') {\n      throw new Error(\n        'Tried to add middleware that was a function. It probably expects you to pass options to it.'\n      )\n    }\n\n    if (newMiddleware.onReturn && middleware.onReturn.length > 0) {\n      throw new Error(\n        'Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event'\n      )\n    }\n\n    middlehooks.forEach(key => {\n      if (newMiddleware[key]) {\n        middleware[key].push(newMiddleware[key])\n      }\n    })\n\n    loadedMiddleware.push(newMiddleware)\n    return request\n  }\n\n  request.clone = function clone() {\n    return createRequester(loadedMiddleware)\n  }\n\n  initMiddleware.forEach(request.use)\n\n  return request\n}\n","const objectAssign = require('object-assign')\nconst urlParse = require('url-parse')\n\nconst isReactNative = typeof navigator === 'undefined' ? false : navigator.product === 'ReactNative'\n\nconst has = Object.prototype.hasOwnProperty\nconst defaultOptions = {timeout: isReactNative ? 60000 : 120000}\n\nmodule.exports = opts => {\n  const options =\n    typeof opts === 'string'\n      ? objectAssign({url: opts}, defaultOptions)\n      : objectAssign({}, defaultOptions, opts)\n\n  // Parse URL into parts\n  const url = urlParse(\n    options.url,\n    {}, // Don't use current browser location\n    true // Parse query strings\n  )\n\n  // Normalize timeouts\n  options.timeout = normalizeTimeout(options.timeout)\n\n  // Shallow-merge (override) existing query params\n  if (options.query) {\n    url.query = objectAssign({}, url.query, removeUndefined(options.query))\n  }\n\n  // Implicit POST if we have not specified a method but have a body\n  options.method =\n    options.body && !options.method ? 'POST' : (options.method || 'GET').toUpperCase()\n\n  // Stringify URL\n  options.url = url.toString(stringifyQueryString)\n\n  return options\n}\n\nfunction stringifyQueryString(obj) {\n  const pairs = []\n  for (const key in obj) {\n    if (has.call(obj, key)) {\n      push(key, obj[key])\n    }\n  }\n\n  return pairs.length ? pairs.join('&') : ''\n\n  function push(key, val) {\n    if (Array.isArray(val)) {\n      val.forEach(item => push(key, item))\n    } else {\n      pairs.push([key, val].map(encodeURIComponent).join('='))\n    }\n  }\n}\n\nfunction normalizeTimeout(time) {\n  if (time === false || time === 0) {\n    return false\n  }\n\n  if (time.connect || time.socket) {\n    return time\n  }\n\n  const delay = Number(time)\n  if (isNaN(delay)) {\n    return normalizeTimeout(defaultOptions.timeout)\n  }\n\n  return {connect: delay, socket: delay}\n}\n\nfunction removeUndefined(obj) {\n  const target = {}\n  for (const key in obj) {\n    if (obj[key] !== undefined) {\n      target[key] = obj[key]\n    }\n  }\n  return target\n}\n","const validUrl = /^https?:\\/\\//i\n\nmodule.exports = options => {\n  if (!validUrl.test(options.url)) {\n    throw new Error(`\"${options.url}\" is not a valid URL`)\n  }\n}\n","const objectAssign = require('object-assign')\nconst isPlainObject = require('is-plain-object')\n\nconst serializeTypes = ['boolean', 'string', 'number']\nconst isBuffer = obj =>\n  !!obj.constructor &&\n  typeof obj.constructor.isBuffer === 'function' &&\n  obj.constructor.isBuffer(obj)\n\nmodule.exports = () => ({\n  processOptions: options => {\n    const body = options.body\n    if (!body) {\n      return options\n    }\n\n    const isStream = typeof body.pipe === 'function'\n    const shouldSerialize =\n      !isStream &&\n      !isBuffer(body) &&\n      (serializeTypes.indexOf(typeof body) !== -1 || Array.isArray(body) || isPlainObject(body))\n\n    if (!shouldSerialize) {\n      return options\n    }\n\n    return objectAssign({}, options, {\n      body: JSON.stringify(options.body),\n      headers: objectAssign({}, options.headers, {\n        'Content-Type': 'application/json'\n      })\n    })\n  }\n})\n","const objectAssign = require('object-assign')\n\nmodule.exports = opts => ({\n  onResponse: response => {\n    const contentType = response.headers['content-type'] || ''\n    const shouldDecode = (opts && opts.force) || contentType.indexOf('application/json') !== -1\n    if (!response.body || !contentType || !shouldDecode) {\n      return response\n    }\n\n    return objectAssign({}, response, {body: tryParse(response.body)})\n  },\n\n  processOptions: options =>\n    objectAssign({}, options, {\n      headers: objectAssign({Accept: 'application/json'}, options.headers)\n    })\n})\n\nfunction tryParse(body) {\n  try {\n    return JSON.parse(body)\n  } catch (err) {\n    err.message = `Failed to parsed response body as JSON: ${err.message}`\n    throw err\n  }\n}\n","const global = require('../util/global')\nconst objectAssign = require('object-assign')\n\nmodule.exports = (opts = {}) => {\n  const Observable = opts.implementation || global.Observable\n  if (!Observable) {\n    throw new Error(\n      '`Observable` is not available in global scope, and no implementation was passed'\n    )\n  }\n\n  return {\n    onReturn: (channels, context) =>\n      new Observable(observer => {\n        channels.error.subscribe(err => observer.error(err))\n        channels.progress.subscribe(event => observer.next(objectAssign({type: 'progress'}, event)))\n        channels.response.subscribe(response => {\n          observer.next(objectAssign({type: 'response'}, response))\n          observer.complete()\n        })\n\n        channels.request.publish(context)\n        return () => channels.abort.publish()\n      })\n  }\n}\n","module.exports = () => ({\n  onRequest: evt => {\n    if (evt.adapter !== 'xhr') {\n      return\n    }\n\n    const xhr = evt.request\n    const context = evt.context\n\n    if ('upload' in xhr && 'onprogress' in xhr.upload) {\n      xhr.upload.onprogress = handleProgress('upload')\n    }\n\n    if ('onprogress' in xhr) {\n      xhr.onprogress = handleProgress('download')\n    }\n\n    function handleProgress(stage) {\n      return event => {\n        const percent = event.lengthComputable ? (event.loaded / event.total) * 100 : -1\n        context.channels.progress.publish({\n          stage,\n          percent,\n          total: event.total,\n          loaded: event.loaded,\n          lengthComputable: event.lengthComputable\n        })\n      }\n    }\n  }\n})\n","module.exports = require('./node-progress')\n","/* eslint max-depth: [\"error\", 4] */\nconst sameOrigin = require('same-origin')\nconst parseHeaders = require('parse-headers')\nconst FetchXhr = require('./browser/fetchXhr')\n\nconst noop = function() {\n  /* intentional noop */\n}\n\nconst win = typeof window === 'undefined' ? undefined : window\nconst adapter = win ? 'xhr' : 'fetch'\n\nlet XmlHttpRequest = typeof XMLHttpRequest === 'function' ? XMLHttpRequest : noop\nconst hasXhr2 = 'withCredentials' in new XmlHttpRequest()\n// eslint-disable-next-line no-undef\nconst XDR = typeof XDomainRequest === 'undefined' ? undefined : XDomainRequest\nlet CrossDomainRequest = hasXhr2 ? XmlHttpRequest : XDR\n\n// Fallback to fetch-based XHR polyfill for non-browser environments like Workers\nif (!win) {\n  XmlHttpRequest = FetchXhr\n  CrossDomainRequest = FetchXhr\n}\n\nmodule.exports = (context, callback) => {\n  const opts = context.options\n  const options = context.applyMiddleware('finalizeOptions', opts)\n  const timers = {}\n\n  // Deep-checking window.location because of react native, where `location` doesn't exist\n  const cors = win && win.location && !sameOrigin(win.location.href, options.url)\n\n  // Allow middleware to inject a response, for instance in the case of caching or mocking\n  const injectedResponse = context.applyMiddleware('interceptRequest', undefined, {\n    adapter,\n    context\n  })\n\n  // If middleware injected a response, treat it as we normally would and return it\n  // Do note that the injected response has to be reduced to a cross-environment friendly response\n  if (injectedResponse) {\n    const cbTimer = setTimeout(callback, 0, null, injectedResponse)\n    const cancel = () => clearTimeout(cbTimer)\n    return {abort: cancel}\n  }\n\n  // We'll want to null out the request on success/failure\n  let xhr = cors ? new CrossDomainRequest() : new XmlHttpRequest()\n\n  const isXdr = win && win.XDomainRequest && xhr instanceof win.XDomainRequest\n  const headers = options.headers\n  const delays = options.timeout\n\n  // Request state\n  let aborted = false\n  let loaded = false\n  let timedOut = false\n\n  // Apply event handlers\n  xhr.onerror = onError\n  xhr.ontimeout = onError\n  xhr.onabort = () => {\n    stopTimers(true)\n    aborted = true\n  }\n\n  // IE9 must have onprogress be set to a unique function\n  xhr.onprogress = () => {\n    /* intentional noop */\n  }\n\n  const loadEvent = isXdr ? 'onload' : 'onreadystatechange'\n  xhr[loadEvent] = () => {\n    // Prevent request from timing out\n    resetTimers()\n\n    if (aborted || (xhr.readyState !== 4 && !isXdr)) {\n      return\n    }\n\n    // Will be handled by onError\n    if (xhr.status === 0) {\n      return\n    }\n\n    onLoad()\n  }\n\n  // @todo two last options to open() is username/password\n  xhr.open(\n    options.method,\n    options.url,\n    true // Always async\n  )\n\n  // Some options need to be applied after open\n  xhr.withCredentials = !!options.withCredentials\n\n  // Set headers\n  if (headers && xhr.setRequestHeader) {\n    for (const key in headers) {\n      if (headers.hasOwnProperty(key)) {\n        xhr.setRequestHeader(key, headers[key])\n      }\n    }\n  } else if (headers && isXdr) {\n    throw new Error('Headers cannot be set on an XDomainRequest object')\n  }\n\n  if (options.rawBody) {\n    xhr.responseType = 'arraybuffer'\n  }\n\n  // Let middleware know we're about to do a request\n  context.applyMiddleware('onRequest', {options, adapter, request: xhr, context})\n\n  xhr.send(options.body || null)\n\n  // Figure out which timeouts to use (if any)\n  if (delays) {\n    timers.connect = setTimeout(() => timeoutRequest('ETIMEDOUT'), delays.connect)\n  }\n\n  return {abort}\n\n  function abort() {\n    aborted = true\n\n    if (xhr) {\n      xhr.abort()\n    }\n  }\n\n  function timeoutRequest(code) {\n    timedOut = true\n    xhr.abort()\n    const error = new Error(\n      code === 'ESOCKETTIMEDOUT'\n        ? `Socket timed out on request to ${options.url}`\n        : `Connection timed out on request to ${options.url}`\n    )\n    error.code = code\n    context.channels.error.publish(error)\n  }\n\n  function resetTimers() {\n    if (!delays) {\n      return\n    }\n\n    stopTimers()\n    timers.socket = setTimeout(() => timeoutRequest('ESOCKETTIMEDOUT'), delays.socket)\n  }\n\n  function stopTimers(force) {\n    // Only clear the connect timeout if we've got a connection\n    if (force || aborted || (xhr.readyState >= 2 && timers.connect)) {\n      clearTimeout(timers.connect)\n    }\n\n    if (timers.socket) {\n      clearTimeout(timers.socket)\n    }\n  }\n\n  function onError(error) {\n    if (loaded) {\n      return\n    }\n\n    // Clean up\n    stopTimers(true)\n    loaded = true\n    xhr = null\n\n    // Annoyingly, details are extremely scarce and hidden from us.\n    // We only really know that it is a network error\n    const err = error || new Error(`Network error while attempting to reach ${options.url}`)\n    err.isNetworkError = true\n    err.request = options\n    callback(err)\n  }\n\n  function reduceResponse() {\n    let statusCode = xhr.status\n    let statusMessage = xhr.statusText\n\n    if (isXdr && statusCode === undefined) {\n      // IE8 CORS GET successful response doesn't have a status field, but body is fine\n      statusCode = 200\n    } else if (statusCode > 12000 && statusCode < 12156) {\n      // Yet another IE quirk where it emits weird status codes on network errors\n      // https://support.microsoft.com/en-us/kb/193625\n      return onError()\n    } else {\n      // Another IE bug where HTTP 204 somehow ends up as 1223\n      statusCode = xhr.status === 1223 ? 204 : xhr.status\n      statusMessage = xhr.status === 1223 ? 'No Content' : statusMessage\n    }\n\n    return {\n      body: xhr.response || xhr.responseText,\n      url: options.url,\n      method: options.method,\n      headers: isXdr ? {} : parseHeaders(xhr.getAllResponseHeaders()),\n      statusCode: statusCode,\n      statusMessage: statusMessage\n    }\n  }\n\n  function onLoad() {\n    if (aborted || loaded || timedOut) {\n      return\n    }\n\n    if (xhr.status === 0) {\n      onError(new Error('Unknown XHR error'))\n      return\n    }\n\n    // Prevent being called twice\n    stopTimers()\n    loaded = true\n    callback(null, reduceResponse())\n  }\n}\n","/**\n * Mimicks the XMLHttpRequest API with only the parts needed for get-it's XHR adapter\n */\nfunction FetchXhr() {\n  this.readyState = 0 // Unsent\n}\nFetchXhr.prototype.open = function(method, url) {\n  this._method = method\n  this._url = url\n  this._resHeaders = ''\n  this.readyState = 1 // Open\n  this.onreadystatechange()\n}\nFetchXhr.prototype.abort = function() {\n  if (this._controller) {\n    this._controller.abort()\n  }\n}\nFetchXhr.prototype.getAllResponseHeaders = function() {\n  return this._resHeaders\n}\nFetchXhr.prototype.setRequestHeader = function(key, value) {\n  this._headers = this._headers || {}\n  this._headers[key] = value\n}\nFetchXhr.prototype.send = function(body) {\n  // eslint-disable-next-line no-multi-assign\n  const ctrl = (this._controller = typeof AbortController === 'function' && new AbortController())\n  const textBody = this.responseType !== 'arraybuffer'\n  const options = {\n    method: this._method,\n    headers: this._headers,\n    signal: ctrl && ctrl.signal,\n    body\n  }\n\n  // Some environments (like CloudFlare workers) don't support credentials in\n  // RequestInitDict, and there doesn't seem to be any easy way to check for it,\n  // so for now let's just make do with a window check :/\n  if (typeof window !== 'undefined') {\n    options.credentials = this.withCredentials ? 'include' : 'omit'\n  }\n\n  fetch(this._url, options)\n    .then(res => {\n      res.headers.forEach((value, key) => {\n        this._resHeaders += `${key}: ${value}\\r\\n`\n      })\n      this.status = res.status\n      this.statusText = res.statusText\n      this.readyState = 3 // Loading\n      return textBody ? res.text() : res.arrayBuffer()\n    })\n    .then(resBody => {\n      if (textBody) {\n        this.responseText = resBody\n      } else {\n        this.response = resBody\n      }\n      this.readyState = 4 // Done\n      this.onreadystatechange()\n    })\n    .catch(err => {\n      if (err.name === 'AbortError') {\n        this.onabort()\n        return\n      }\n\n      this.onerror(err)\n    })\n}\n\nmodule.exports = FetchXhr\n","module.exports = require('./node-request')\n","/* global globalThis */\n/* eslint-disable no-negated-condition */\nif (typeof globalThis !== 'undefined') {\n  module.exports = globalThis\n} else if (typeof window !== 'undefined') {\n  module.exports = window\n} else if (typeof global !== 'undefined') {\n  module.exports = global\n} else if (typeof self !== 'undefined') {\n  module.exports = self\n} else {\n  module.exports = {}\n}\n","module.exports = middleware => {\n  const applyMiddleware = (hook, defaultValue, ...args) => {\n    const bailEarly = hook === 'onError'\n\n    let value = defaultValue\n    for (let i = 0; i < middleware[hook].length; i++) {\n      const handler = middleware[hook][i]\n      value = handler(value, ...args)\n\n      if (bailEarly && !value) {\n        break\n      }\n    }\n\n    return value\n  }\n\n  return applyMiddleware\n}\n","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n","// ISC @ Julien Fontanet\n\n\"use strict\";\n\n// ===================================================================\n\nvar construct = typeof Reflect !== \"undefined\" ? Reflect.construct : undefined;\nvar defineProperty = Object.defineProperty;\n\n// -------------------------------------------------------------------\n\nvar captureStackTrace = Error.captureStackTrace;\nif (captureStackTrace === undefined) {\n  captureStackTrace = function captureStackTrace(error) {\n    var container = new Error();\n\n    defineProperty(error, \"stack\", {\n      configurable: true,\n      get: function getStack() {\n        var stack = container.stack;\n\n        // Replace property with value for faster future accesses.\n        defineProperty(this, \"stack\", {\n          configurable: true,\n          value: stack,\n          writable: true,\n        });\n\n        return stack;\n      },\n      set: function setStack(stack) {\n        defineProperty(error, \"stack\", {\n          configurable: true,\n          value: stack,\n          writable: true,\n        });\n      },\n    });\n  };\n}\n\n// -------------------------------------------------------------------\n\nfunction BaseError(message) {\n  if (message !== undefined) {\n    defineProperty(this, \"message\", {\n      configurable: true,\n      value: message,\n      writable: true,\n    });\n  }\n\n  var cname = this.constructor.name;\n  if (cname !== undefined && cname !== this.name) {\n    defineProperty(this, \"name\", {\n      configurable: true,\n      value: cname,\n      writable: true,\n    });\n  }\n\n  captureStackTrace(this, this.constructor);\n}\n\nBaseError.prototype = Object.create(Error.prototype, {\n  // See: https://github.com/JsCommunity/make-error/issues/4\n  constructor: {\n    configurable: true,\n    value: BaseError,\n    writable: true,\n  },\n});\n\n// -------------------------------------------------------------------\n\n// Sets the name of a function if possible (depends of the JS engine).\nvar setFunctionName = (function() {\n  function setFunctionName(fn, name) {\n    return defineProperty(fn, \"name\", {\n      configurable: true,\n      value: name,\n    });\n  }\n  try {\n    var f = function() {};\n    setFunctionName(f, \"foo\");\n    if (f.name === \"foo\") {\n      return setFunctionName;\n    }\n  } catch (_) {}\n})();\n\n// -------------------------------------------------------------------\n\nfunction makeError(constructor, super_) {\n  if (super_ == null || super_ === Error) {\n    super_ = BaseError;\n  } else if (typeof super_ !== \"function\") {\n    throw new TypeError(\"super_ should be a function\");\n  }\n\n  var name;\n  if (typeof constructor === \"string\") {\n    name = constructor;\n    constructor =\n      construct !== undefined\n        ? function() {\n            return construct(super_, arguments, this.constructor);\n          }\n        : function() {\n            super_.apply(this, arguments);\n          };\n\n    // If the name can be set, do it once and for all.\n    if (setFunctionName !== undefined) {\n      setFunctionName(constructor, name);\n      name = undefined;\n    }\n  } else if (typeof constructor !== \"function\") {\n    throw new TypeError(\"constructor should be either a string or a function\");\n  }\n\n  // Also register the super constructor also as `constructor.super_` just\n  // like Node's `util.inherits()`.\n  //\n  // eslint-disable-next-line dot-notation\n  constructor.super_ = constructor[\"super\"] = super_;\n\n  var properties = {\n    constructor: {\n      configurable: true,\n      value: constructor,\n      writable: true,\n    },\n  };\n\n  // If the name could not be set on the constructor, set it on the\n  // prototype.\n  if (name !== undefined) {\n    properties.name = {\n      configurable: true,\n      value: name,\n      writable: true,\n    };\n  }\n  constructor.prototype = Object.create(super_.prototype, properties);\n\n  return constructor;\n}\nexports = module.exports = makeError;\nexports.BaseError = BaseError;\n","module.exports = function Pubsub() {\n  var subscribers = []\n  return {\n    subscribe: subscribe,\n    publish: publish\n  }\n  function subscribe(subscriber) {\n    subscribers.push(subscriber)\n    return function unsubscribe() {\n      var idx = subscribers.indexOf(subscriber)\n      if (idx > -1) {\n        subscribers.splice(idx, 1)\n      }\n    }\n  }\n  function publish() {\n    for (var i = 0; i < subscribers.length; i++) {\n      subscribers[i].apply(null, arguments)\n    }\n  }\n}","var trim = function(string) {\n  return string.replace(/^\\s+|\\s+$/g, '');\n}\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  var headersArr = trim(headers).split('\\n')\n\n  for (var i = 0; i < headersArr.length; i++) {\n    var row = headersArr[i]\n    var index = row.indexOf(':')\n    , key = trim(row.slice(0, index)).toLowerCase()\n    , value = trim(row.slice(index + 1))\n\n    if (typeof(result[key]) === 'undefined') {\n      result[key] = value\n    } else if (isArray(result[key])) {\n      result[key].push(value)\n    } else {\n      result[key] = [ result[key], value ]\n    }\n  }\n\n  return result\n}\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?#&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encode(key);\n      value = encode(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n","import { Operator } from './Operator';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { TeardownLogic, OperatorFunction, PartialObserver, Subscribable } from './types';\nimport { canReportError } from './util/canReportError';\nimport { toSubscriber } from './util/toSubscriber';\nimport { iif } from './observable/iif';\nimport { throwError } from './observable/throwError';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\n\n/**\n * A representation of any set of values over any amount of time. This is the most basic building block\n * of RxJS.\n *\n * @class Observable<T>\n */\nexport class Observable<T> implements Subscribable<T> {\n\n  /** Internal implementation detail, do not use directly. */\n  public _isScalar: boolean = false;\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  source: Observable<any>;\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  operator: Operator<any, T>;\n\n  /**\n   * @constructor\n   * @param {Function} subscribe the function that is called when the Observable is\n   * initially subscribed to. This function is given a Subscriber, to which new values\n   * can be `next`ed, or an `error` method can be called to raise an error, or\n   * `complete` can be called to notify of a successful completion.\n   */\n  constructor(subscribe?: (this: Observable<T>, subscriber: Subscriber<T>) => TeardownLogic) {\n    if (subscribe) {\n      this._subscribe = subscribe;\n    }\n  }\n\n  // HACK: Since TypeScript inherits static properties too, we have to\n  // fight against TypeScript here so Subject can have a different static create signature\n  /**\n   * Creates a new cold Observable by calling the Observable constructor\n   * @static true\n   * @owner Observable\n   * @method create\n   * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n   * @return {Observable} a new cold observable\n   * @nocollapse\n   * @deprecated use new Observable() instead\n   */\n  static create: Function = <T>(subscribe?: (subscriber: Subscriber<T>) => TeardownLogic) => {\n    return new Observable<T>(subscribe);\n  }\n\n  /**\n   * Creates a new Observable, with this Observable as the source, and the passed\n   * operator defined as the new observable's operator.\n   * @method lift\n   * @param {Operator} operator the operator defining the operation to take on the observable\n   * @return {Observable} a new observable with the Operator applied\n   */\n  lift<R>(operator: Operator<T, R>): Observable<R> {\n    const observable = new Observable<R>();\n    observable.source = this;\n    observable.operator = operator;\n    return observable;\n  }\n\n  subscribe(observer?: PartialObserver<T>): Subscription;\n  /** @deprecated Use an observer instead of a complete callback */\n  subscribe(next: null | undefined, error: null | undefined, complete: () => void): Subscription;\n  /** @deprecated Use an observer instead of an error callback */\n  subscribe(next: null | undefined, error: (error: any) => void, complete?: () => void): Subscription;\n  /** @deprecated Use an observer instead of a complete callback */\n  subscribe(next: (value: T) => void, error: null | undefined, complete: () => void): Subscription;\n  subscribe(next?: (value: T) => void, error?: (error: any) => void, complete?: () => void): Subscription;\n  /**\n   * Invokes an execution of an Observable and registers Observer handlers for notifications it will emit.\n   *\n   * <span class=\"informal\">Use it when you have all these Observables, but still nothing is happening.</span>\n   *\n   * `subscribe` is not a regular operator, but a method that calls Observable's internal `subscribe` function. It\n   * might be for example a function that you passed to Observable's constructor, but most of the time it is\n   * a library implementation, which defines what will be emitted by an Observable, and when it be will emitted. This means\n   * that calling `subscribe` is actually the moment when Observable starts its work, not when it is created, as it is often\n   * the thought.\n   *\n   * Apart from starting the execution of an Observable, this method allows you to listen for values\n   * that an Observable emits, as well as for when it completes or errors. You can achieve this in two\n   * of the following ways.\n   *\n   * The first way is creating an object that implements {@link Observer} interface. It should have methods\n   * defined by that interface, but note that it should be just a regular JavaScript object, which you can create\n   * yourself in any way you want (ES6 class, classic function constructor, object literal etc.). In particular do\n   * not attempt to use any RxJS implementation details to create Observers - you don't need them. Remember also\n   * that your object does not have to implement all methods. If you find yourself creating a method that doesn't\n   * do anything, you can simply omit it. Note however, if the `error` method is not provided, all errors will\n   * be left uncaught.\n   *\n   * The second way is to give up on Observer object altogether and simply provide callback functions in place of its methods.\n   * This means you can provide three functions as arguments to `subscribe`, where the first function is equivalent\n   * of a `next` method, the second of an `error` method and the third of a `complete` method. Just as in case of Observer,\n   * if you do not need to listen for something, you can omit a function, preferably by passing `undefined` or `null`,\n   * since `subscribe` recognizes these functions by where they were placed in function call. When it comes\n   * to `error` function, just as before, if not provided, errors emitted by an Observable will be thrown.\n   *\n   * Whichever style of calling `subscribe` you use, in both cases it returns a Subscription object.\n   * This object allows you to call `unsubscribe` on it, which in turn will stop the work that an Observable does and will clean\n   * up all resources that an Observable used. Note that cancelling a subscription will not call `complete` callback\n   * provided to `subscribe` function, which is reserved for a regular completion signal that comes from an Observable.\n   *\n   * Remember that callbacks provided to `subscribe` are not guaranteed to be called asynchronously.\n   * It is an Observable itself that decides when these functions will be called. For example {@link of}\n   * by default emits all its values synchronously. Always check documentation for how given Observable\n   * will behave when subscribed and if its default behavior can be modified with a `scheduler`.\n   *\n   * ## Example\n   * ### Subscribe with an Observer\n   * ```ts\n   * import { of } from 'rxjs';\n   *\n   * const sumObserver = {\n   *   sum: 0,\n   *   next(value) {\n   *     console.log('Adding: ' + value);\n   *     this.sum = this.sum + value;\n   *   },\n   *   error() {\n   *     // We actually could just remove this method,\n   *     // since we do not really care about errors right now.\n   *   },\n   *   complete() {\n   *     console.log('Sum equals: ' + this.sum);\n   *   }\n   * };\n   *\n   * of(1, 2, 3) // Synchronously emits 1, 2, 3 and then completes.\n   *   .subscribe(sumObserver);\n   *\n   * // Logs:\n   * // \"Adding: 1\"\n   * // \"Adding: 2\"\n   * // \"Adding: 3\"\n   * // \"Sum equals: 6\"\n   * ```\n   *\n   * ### Subscribe with functions\n   * ```ts\n   * import { of } from 'rxjs'\n   *\n   * let sum = 0;\n   *\n   * of(1, 2, 3).subscribe(\n   *   value => {\n   *     console.log('Adding: ' + value);\n   *     sum = sum + value;\n   *   },\n   *   undefined,\n   *   () => console.log('Sum equals: ' + sum)\n   * );\n   *\n   * // Logs:\n   * // \"Adding: 1\"\n   * // \"Adding: 2\"\n   * // \"Adding: 3\"\n   * // \"Sum equals: 6\"\n   * ```\n   *\n   * ### Cancel a subscription\n   * ```ts\n   * import { interval } from 'rxjs';\n   *\n   * const subscription = interval(1000).subscribe(\n   *   num => console.log(num),\n   *   undefined,\n   *   () => {\n   *     // Will not be called, even when cancelling subscription.\n   *     console.log('completed!');\n   *   }\n   * );\n   *\n   * setTimeout(() => {\n   *   subscription.unsubscribe();\n   *   console.log('unsubscribed!');\n   * }, 2500);\n   *\n   * // Logs:\n   * // 0 after 1s\n   * // 1 after 2s\n   * // \"unsubscribed!\" after 2.5s\n   * ```\n   *\n   * @param {Observer|Function} observerOrNext (optional) Either an observer with methods to be called,\n   *  or the first of three possible handlers, which is the handler for each value emitted from the subscribed\n   *  Observable.\n   * @param {Function} error (optional) A handler for a terminal event resulting from an error. If no error handler is provided,\n   *  the error will be thrown as unhandled.\n   * @param {Function} complete (optional) A handler for a terminal event resulting from successful completion.\n   * @return {ISubscription} a subscription reference to the registered handlers\n   * @method subscribe\n   */\n  subscribe(observerOrNext?: PartialObserver<T> | ((value: T) => void),\n            error?: (error: any) => void,\n            complete?: () => void): Subscription {\n\n    const { operator } = this;\n    const sink = toSubscriber(observerOrNext, error, complete);\n\n    if (operator) {\n      sink.add(operator.call(sink, this.source));\n    } else {\n      sink.add(\n        this.source || (config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n        this._subscribe(sink) :\n        this._trySubscribe(sink)\n      );\n    }\n\n    if (config.useDeprecatedSynchronousErrorHandling) {\n      if (sink.syncErrorThrowable) {\n        sink.syncErrorThrowable = false;\n        if (sink.syncErrorThrown) {\n          throw sink.syncErrorValue;\n        }\n      }\n    }\n\n    return sink;\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _trySubscribe(sink: Subscriber<T>): TeardownLogic {\n    try {\n      return this._subscribe(sink);\n    } catch (err) {\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        sink.syncErrorThrown = true;\n        sink.syncErrorValue = err;\n      }\n      if (canReportError(sink)) {\n        sink.error(err);\n      } else {\n        console.warn(err);\n      }\n    }\n  }\n\n  /**\n   * @method forEach\n   * @param {Function} next a handler for each value emitted by the observable\n   * @param {PromiseConstructor} [promiseCtor] a constructor function used to instantiate the Promise\n   * @return {Promise} a promise that either resolves on observable completion or\n   *  rejects with the handled error\n   */\n  forEach(next: (value: T) => void, promiseCtor?: PromiseConstructorLike): Promise<void> {\n    promiseCtor = getPromiseCtor(promiseCtor);\n\n    return new promiseCtor<void>((resolve, reject) => {\n      // Must be declared in a separate statement to avoid a ReferenceError when\n      // accessing subscription below in the closure due to Temporal Dead Zone.\n      let subscription: Subscription;\n      subscription = this.subscribe((value) => {\n        try {\n          next(value);\n        } catch (err) {\n          reject(err);\n          if (subscription) {\n            subscription.unsubscribe();\n          }\n        }\n      }, reject, resolve);\n    }) as Promise<void>;\n  }\n\n  /** @internal This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<any>): TeardownLogic {\n    const { source } = this;\n    return source && source.subscribe(subscriber);\n  }\n\n  // `if` and `throw` are special snow flakes, the compiler sees them as reserved words. Deprecated in\n  // favor of iif and throwError functions.\n  /**\n   * @nocollapse\n   * @deprecated In favor of iif creation function: import { iif } from 'rxjs';\n   */\n  static if: typeof iif;\n  /**\n   * @nocollapse\n   * @deprecated In favor of throwError creation function: import { throwError } from 'rxjs';\n   */\n  static throw: typeof throwError;\n\n  /**\n   * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n   * @method Symbol.observable\n   * @return {Observable} this instance of the observable\n   */\n  [Symbol_observable]() {\n    return this;\n  }\n\n  /* tslint:disable:max-line-length */\n  pipe(): Observable<T>;\n  pipe<A>(op1: OperatorFunction<T, A>): Observable<A>;\n  pipe<A, B>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>): Observable<B>;\n  pipe<A, B, C>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>): Observable<C>;\n  pipe<A, B, C, D>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>): Observable<D>;\n  pipe<A, B, C, D, E>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>): Observable<E>;\n  pipe<A, B, C, D, E, F>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>): Observable<F>;\n  pipe<A, B, C, D, E, F, G>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>): Observable<G>;\n  pipe<A, B, C, D, E, F, G, H>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>): Observable<H>;\n  pipe<A, B, C, D, E, F, G, H, I>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>, op9: OperatorFunction<H, I>): Observable<I>;\n  pipe<A, B, C, D, E, F, G, H, I>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>, op9: OperatorFunction<H, I>, ...operations: OperatorFunction<any, any>[]): Observable<{}>;\n  /* tslint:enable:max-line-length */\n\n  /**\n   * Used to stitch together functional operators into a chain.\n   * @method pipe\n   * @return {Observable} the Observable result of all of the operators having\n   * been called in the order they were passed in.\n   *\n   * ### Example\n   * ```ts\n   * import { interval } from 'rxjs';\n   * import { map, filter, scan } from 'rxjs/operators';\n   *\n   * interval(1000)\n   *   .pipe(\n   *     filter(x => x % 2 === 0),\n   *     map(x => x + x),\n   *     scan((acc, x) => acc + x)\n   *   )\n   *   .subscribe(x => console.log(x))\n   * ```\n   */\n  pipe(...operations: OperatorFunction<any, any>[]): Observable<any> {\n    if (operations.length === 0) {\n      return this as any;\n    }\n\n    return pipeFromArray(operations)(this);\n  }\n\n  /* tslint:disable:max-line-length */\n  toPromise<T>(this: Observable<T>): Promise<T>;\n  toPromise<T>(this: Observable<T>, PromiseCtor: typeof Promise): Promise<T>;\n  toPromise<T>(this: Observable<T>, PromiseCtor: PromiseConstructorLike): Promise<T>;\n  /* tslint:enable:max-line-length */\n\n  toPromise(promiseCtor?: PromiseConstructorLike): Promise<T> {\n    promiseCtor = getPromiseCtor(promiseCtor);\n\n    return new promiseCtor((resolve, reject) => {\n      let value: any;\n      this.subscribe((x: T) => value = x, (err: any) => reject(err), () => resolve(value));\n    }) as Promise<T>;\n  }\n}\n\n/**\n * Decides between a passed promise constructor from consuming code,\n * A default configured promise constructor, and the native promise\n * constructor and returns it. If nothing can be found, it will throw\n * an error.\n * @param promiseCtor The optional promise constructor to passed by consuming code\n */\nfunction getPromiseCtor(promiseCtor: PromiseConstructorLike | undefined) {\n  if (!promiseCtor) {\n    promiseCtor = config.Promise || Promise;\n  }\n\n  if (!promiseCtor) {\n    throw new Error('no Promise impl found');\n  }\n\n  return promiseCtor;\n}\n","import { Observer } from './types';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\n\nexport const empty: Observer<any> = {\n  closed: true,\n  next(value: any): void { /* noop */},\n  error(err: any): void {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n      throw err;\n    } else {\n      hostReportError(err);\n    }\n  },\n  complete(): void { /*noop*/ }\n};\n","import { isFunction } from './util/isFunction';\nimport { empty as emptyObserver } from './Observer';\nimport { Observer, PartialObserver, TeardownLogic } from './types';\nimport { Subscription } from './Subscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\n\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nexport class Subscriber<T> extends Subscription implements Observer<T> {\n\n  [rxSubscriberSymbol]() { return this; }\n\n  /**\n   * A static factory for a Subscriber, given a (potentially partial) definition\n   * of an Observer.\n   * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n   * Observer represented by the given arguments.\n   * @nocollapse\n   */\n  static create<T>(next?: (x?: T) => void,\n                   error?: (e?: any) => void,\n                   complete?: () => void): Subscriber<T> {\n    const subscriber = new Subscriber(next, error, complete);\n    subscriber.syncErrorThrowable = false;\n    return subscriber;\n  }\n\n  /** @internal */ syncErrorValue: any = null;\n  /** @internal */ syncErrorThrown: boolean = false;\n  /** @internal */ syncErrorThrowable: boolean = false;\n\n  protected isStopped: boolean = false;\n  protected destination: PartialObserver<any> | Subscriber<any>; // this `any` is the escape hatch to erase extra type param (e.g. R)\n\n  /**\n   * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n   * defined Observer or a `next` callback function.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   */\n  constructor(destinationOrNext?: PartialObserver<any> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    switch (arguments.length) {\n      case 0:\n        this.destination = emptyObserver;\n        break;\n      case 1:\n        if (!destinationOrNext) {\n          this.destination = emptyObserver;\n          break;\n        }\n        if (typeof destinationOrNext === 'object') {\n          if (destinationOrNext instanceof Subscriber) {\n            this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n            this.destination = destinationOrNext;\n            destinationOrNext.add(this);\n          } else {\n            this.syncErrorThrowable = true;\n            this.destination = new SafeSubscriber<T>(this, <PartialObserver<any>> destinationOrNext);\n          }\n          break;\n        }\n      default:\n        this.syncErrorThrowable = true;\n        this.destination = new SafeSubscriber<T>(this, <((value: T) => void)> destinationOrNext, error, complete);\n        break;\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `next` from\n   * the Observable, with a value. The Observable may call this method 0 or more\n   * times.\n   * @param {T} [value] The `next` value.\n   * @return {void}\n   */\n  next(value?: T): void {\n    if (!this.isStopped) {\n      this._next(value);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `error` from\n   * the Observable, with an attached `Error`. Notifies the Observer that\n   * the Observable has experienced an error condition.\n   * @param {any} [err] The `error` exception.\n   * @return {void}\n   */\n  error(err?: any): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._error(err);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive a valueless notification of type\n   * `complete` from the Observable. Notifies the Observer that the Observable\n   * has finished sending push-based notifications.\n   * @return {void}\n   */\n  complete(): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._complete();\n    }\n  }\n\n  unsubscribe(): void {\n    if (this.closed) {\n      return;\n    }\n    this.isStopped = true;\n    super.unsubscribe();\n  }\n\n  protected _next(value: T): void {\n    this.destination.next(value);\n  }\n\n  protected _error(err: any): void {\n    this.destination.error(err);\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.destination.complete();\n    this.unsubscribe();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribeAndRecycle(): Subscriber<T> {\n    const {  _parentOrParents } = this;\n    this._parentOrParents = null;\n    this.unsubscribe();\n    this.closed = false;\n    this.isStopped = false;\n    this._parentOrParents = _parentOrParents;\n    return this;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class SafeSubscriber<T> extends Subscriber<T> {\n\n  private _context: any;\n\n  constructor(private _parentSubscriber: Subscriber<T>,\n              observerOrNext?: PartialObserver<T> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    let next: ((value: T) => void);\n    let context: any = this;\n\n    if (isFunction(observerOrNext)) {\n      next = (<((value: T) => void)> observerOrNext);\n    } else if (observerOrNext) {\n      next = (<PartialObserver<T>> observerOrNext).next;\n      error = (<PartialObserver<T>> observerOrNext).error;\n      complete = (<PartialObserver<T>> observerOrNext).complete;\n      if (observerOrNext !== emptyObserver) {\n        context = Object.create(observerOrNext);\n        if (isFunction(context.unsubscribe)) {\n          this.add(<() => void> context.unsubscribe.bind(context));\n        }\n        context.unsubscribe = this.unsubscribe.bind(this);\n      }\n    }\n\n    this._context = context;\n    this._next = next;\n    this._error = error;\n    this._complete = complete;\n  }\n\n  next(value?: T): void {\n    if (!this.isStopped && this._next) {\n      const { _parentSubscriber } = this;\n      if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n        this.__tryOrUnsub(this._next, value);\n      } else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  error(err?: any): void {\n    if (!this.isStopped) {\n      const { _parentSubscriber } = this;\n      const { useDeprecatedSynchronousErrorHandling } = config;\n      if (this._error) {\n        if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(this._error, err);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, this._error, err);\n          this.unsubscribe();\n        }\n      } else if (!_parentSubscriber.syncErrorThrowable) {\n        this.unsubscribe();\n        if (useDeprecatedSynchronousErrorHandling) {\n          throw err;\n        }\n        hostReportError(err);\n      } else {\n        if (useDeprecatedSynchronousErrorHandling) {\n          _parentSubscriber.syncErrorValue = err;\n          _parentSubscriber.syncErrorThrown = true;\n        } else {\n          hostReportError(err);\n        }\n        this.unsubscribe();\n      }\n    }\n  }\n\n  complete(): void {\n    if (!this.isStopped) {\n      const { _parentSubscriber } = this;\n      if (this._complete) {\n        const wrappedComplete = () => this._complete.call(this._context);\n\n        if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(wrappedComplete);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n          this.unsubscribe();\n        }\n      } else {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  private __tryOrUnsub(fn: Function, value?: any): void {\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      this.unsubscribe();\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        throw err;\n      } else {\n        hostReportError(err);\n      }\n    }\n  }\n\n  private __tryOrSetError(parent: Subscriber<T>, fn: Function, value?: any): boolean {\n    if (!config.useDeprecatedSynchronousErrorHandling) {\n      throw new Error('bad call');\n    }\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        parent.syncErrorValue = err;\n        parent.syncErrorThrown = true;\n        return true;\n      } else {\n        hostReportError(err);\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /** @internal This is an internal implementation detail, do not use. */\n  _unsubscribe(): void {\n    const { _parentSubscriber } = this;\n    this._context = null;\n    this._parentSubscriber = null;\n    _parentSubscriber.unsubscribe();\n  }\n}\n","import { isArray } from './util/isArray';\nimport { isObject } from './util/isObject';\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { SubscriptionLike, TeardownLogic } from './types';\n\n/**\n * Represents a disposable resource, such as the execution of an Observable. A\n * Subscription has one important method, `unsubscribe`, that takes no argument\n * and just disposes the resource held by the subscription.\n *\n * Additionally, subscriptions may be grouped together through the `add()`\n * method, which will attach a child Subscription to the current Subscription.\n * When a Subscription is unsubscribed, all its children (and its grandchildren)\n * will be unsubscribed as well.\n *\n * @class Subscription\n */\nexport class Subscription implements SubscriptionLike {\n  /** @nocollapse */\n  public static EMPTY: Subscription = (function(empty: any) {\n    empty.closed = true;\n    return empty;\n  }(new Subscription()));\n\n  /**\n   * A flag to indicate whether this Subscription has already been unsubscribed.\n   * @type {boolean}\n   */\n  public closed: boolean = false;\n\n  /** @internal */\n  protected _parentOrParents: Subscription | Subscription[] = null;\n  /** @internal */\n  private _subscriptions: SubscriptionLike[] = null;\n\n  /**\n   * @param {function(): void} [unsubscribe] A function describing how to\n   * perform the disposal of resources when the `unsubscribe` method is called.\n   */\n  constructor(unsubscribe?: () => void) {\n    if (unsubscribe) {\n      (this as any)._ctorUnsubscribe = true;\n      (this as any)._unsubscribe = unsubscribe;\n    }\n  }\n\n  /**\n   * Disposes the resources held by the subscription. May, for instance, cancel\n   * an ongoing Observable execution or cancel any other type of work that\n   * started when the Subscription was created.\n   * @return {void}\n   */\n  unsubscribe(): void {\n    let errors: any[];\n\n    if (this.closed) {\n      return;\n    }\n\n    let { _parentOrParents, _ctorUnsubscribe, _unsubscribe, _subscriptions } = (this as any);\n\n    this.closed = true;\n    this._parentOrParents = null;\n    // null out _subscriptions first so any child subscriptions that attempt\n    // to remove themselves from this subscription will noop\n    this._subscriptions = null;\n\n    if (_parentOrParents instanceof Subscription) {\n      _parentOrParents.remove(this);\n    } else if (_parentOrParents !== null) {\n      for (let index = 0; index < _parentOrParents.length; ++index) {\n        const parent = _parentOrParents[index];\n        parent.remove(this);\n      }\n    }\n\n    if (isFunction(_unsubscribe)) {\n      // It's only possible to null _unsubscribe - to release the reference to\n      // any teardown function passed in the constructor - if the property was\n      // actually assigned in the constructor, as there are some classes that\n      // are derived from Subscriber (which derives from Subscription) that\n      // implement an _unsubscribe method as a mechanism for obtaining\n      // unsubscription notifications and some of those subscribers are\n      // recycled. Also, in some of those subscribers, _unsubscribe switches\n      // from a prototype method to an instance property - see notifyNext in\n      // RetryWhenSubscriber.\n      if (_ctorUnsubscribe) {\n        (this as any)._unsubscribe = undefined;\n      }\n      try {\n        _unsubscribe.call(this);\n      } catch (e) {\n        errors = e instanceof UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n      }\n    }\n\n    if (isArray(_subscriptions)) {\n      let index = -1;\n      let len = _subscriptions.length;\n\n      while (++index < len) {\n        const sub = _subscriptions[index];\n        if (isObject(sub)) {\n          try {\n            sub.unsubscribe();\n          } catch (e) {\n            errors = errors || [];\n            if (e instanceof UnsubscriptionError) {\n              errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n            } else {\n              errors.push(e);\n            }\n          }\n        }\n      }\n    }\n\n    if (errors) {\n      throw new UnsubscriptionError(errors);\n    }\n  }\n\n  /**\n   * Adds a tear down to be called during the unsubscribe() of this\n   * Subscription. Can also be used to add a child subscription.\n   *\n   * If the tear down being added is a subscription that is already\n   * unsubscribed, is the same reference `add` is being called on, or is\n   * `Subscription.EMPTY`, it will not be added.\n   *\n   * If this subscription is already in an `closed` state, the passed\n   * tear down logic will be executed immediately.\n   *\n   * When a parent subscription is unsubscribed, any child subscriptions that were added to it are also unsubscribed.\n   *\n   * @param {TeardownLogic} teardown The additional logic to execute on\n   * teardown.\n   * @return {Subscription} Returns the Subscription used or created to be\n   * added to the inner subscriptions list. This Subscription can be used with\n   * `remove()` to remove the passed teardown logic from the inner subscriptions\n   * list.\n   */\n  add(teardown: TeardownLogic): Subscription {\n    let subscription = (<Subscription>teardown);\n\n    if (!teardown) {\n      return Subscription.EMPTY;\n    }\n\n    switch (typeof teardown) {\n      case 'function':\n        subscription = new Subscription(<(() => void)>teardown);\n      case 'object':\n        if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n          // This also covers the case where `subscription` is `Subscription.EMPTY`, which is always in `closed` state.\n          return subscription;\n        } else if (this.closed) {\n          subscription.unsubscribe();\n          return subscription;\n        } else if (!(subscription instanceof Subscription)) {\n          const tmp = subscription;\n          subscription = new Subscription();\n          subscription._subscriptions = [tmp];\n        }\n        break;\n      default: {\n        throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n      }\n    }\n\n    // Add `this` as parent of `subscription` if that's not already the case.\n    let { _parentOrParents } = subscription;\n    if (_parentOrParents === null) {\n      // If we don't have a parent, then set `subscription._parents` to\n      // the `this`, which is the common case that we optimize for.\n      subscription._parentOrParents = this;\n    } else if (_parentOrParents instanceof Subscription) {\n      if (_parentOrParents === this) {\n        // The `subscription` already has `this` as a parent.\n        return subscription;\n      }\n      // If there's already one parent, but not multiple, allocate an\n      // Array to store the rest of the parent Subscriptions.\n      subscription._parentOrParents = [_parentOrParents, this];\n    } else if (_parentOrParents.indexOf(this) === -1) {\n      // Only add `this` to the _parentOrParents list if it's not already there.\n      _parentOrParents.push(this);\n    } else {\n      // The `subscription` already has `this` as a parent.\n      return subscription;\n    }\n\n    // Optimize for the common case when adding the first subscription.\n    const subscriptions = this._subscriptions;\n    if (subscriptions === null) {\n      this._subscriptions = [subscription];\n    } else {\n      subscriptions.push(subscription);\n    }\n\n    return subscription;\n  }\n\n  /**\n   * Removes a Subscription from the internal list of subscriptions that will\n   * unsubscribe during the unsubscribe process of this Subscription.\n   * @param {Subscription} subscription The subscription to remove.\n   * @return {void}\n   */\n  remove(subscription: Subscription): void {\n    const subscriptions = this._subscriptions;\n    if (subscriptions) {\n      const subscriptionIndex = subscriptions.indexOf(subscription);\n      if (subscriptionIndex !== -1) {\n        subscriptions.splice(subscriptionIndex, 1);\n      }\n    }\n  }\n}\n\nfunction flattenUnsubscriptionErrors(errors: any[]) {\n return errors.reduce((errs, err) => errs.concat((err instanceof UnsubscriptionError) ? err.errors : err), []);\n}\n","let _enable_super_gross_mode_that_will_cause_bad_things = false;\n\n/**\n * The global configuration object for RxJS, used to configure things\n * like what Promise contructor should used to create Promises\n */\nexport const config = {\n  /**\n   * The promise constructor used by default for methods such as\n   * {@link toPromise} and {@link forEach}\n   */\n  Promise: undefined as PromiseConstructorLike,\n\n  /**\n   * If true, turns on synchronous error rethrowing, which is a deprecated behavior\n   * in v6 and higher. This behavior enables bad patterns like wrapping a subscribe\n   * call in a try/catch block. It also enables producer interference, a nasty bug\n   * where a multicast can be broken for all observers by a downstream consumer with\n   * an unhandled error. DO NOT USE THIS FLAG UNLESS IT'S NEEDED TO BY TIME\n   * FOR MIGRATION REASONS.\n   */\n  set useDeprecatedSynchronousErrorHandling(value: boolean) {\n    if (value) {\n      const error = new Error();\n      console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n    } else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n      console.log('RxJS: Back to a better error behavior. Thank you. <3');\n    }\n    _enable_super_gross_mode_that_will_cause_bad_things = value;\n  },\n\n  get useDeprecatedSynchronousErrorHandling() {\n    return _enable_super_gross_mode_that_will_cause_bad_things;\n  },\n};\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OperatorFunction, MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function filter<T, S extends T>(predicate: (value: T, index: number) => value is S,\n                                       thisArg?: any): OperatorFunction<T, S>;\nexport function filter<T>(predicate: (value: T, index: number) => boolean,\n                          thisArg?: any): MonoTypeOperatorFunction<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Filter items emitted by the source Observable by only emitting those that\n * satisfy a specified predicate.\n *\n * <span class=\"informal\">Like\n * [Array.prototype.filter()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter),\n * it only emits a value from the source if it passes a criterion function.</span>\n *\n * ![](filter.png)\n *\n * Similar to the well-known `Array.prototype.filter` method, this operator\n * takes values from the source Observable, passes them through a `predicate`\n * function and only emits those values that yielded `true`.\n *\n * ## Example\n * Emit only click events whose target was a DIV element\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { filter } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const clicksOnDivs = clicks.pipe(filter(ev => ev.target.tagName === 'DIV'));\n * clicksOnDivs.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link distinct}\n * @see {@link distinctUntilChanged}\n * @see {@link distinctUntilKeyChanged}\n * @see {@link ignoreElements}\n * @see {@link partition}\n * @see {@link skip}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates each value emitted by the source Observable. If it returns `true`,\n * the value is emitted, if `false` the value is not passed to the output\n * Observable. The `index` parameter is the number `i` for the i-th source\n * emission that has happened since the subscription, starting from the number\n * `0`.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {Observable} An Observable of values from the source that were\n * allowed by the `predicate` function.\n * @method filter\n * @owner Observable\n */\nexport function filter<T>(predicate: (value: T, index: number) => boolean,\n                          thisArg?: any): MonoTypeOperatorFunction<T> {\n  return function filterOperatorFunction(source: Observable<T>): Observable<T> {\n    return source.lift(new FilterOperator(predicate, thisArg));\n  };\n}\n\nclass FilterOperator<T> implements Operator<T, T> {\n  constructor(private predicate: (value: T, index: number) => boolean,\n              private thisArg?: any) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass FilterSubscriber<T> extends Subscriber<T> {\n\n  count: number = 0;\n\n  constructor(destination: Subscriber<T>,\n              private predicate: (value: T, index: number) => boolean,\n              private thisArg: any) {\n    super(destination);\n  }\n\n  // the try catch block below is left specifically for\n  // optimization and perf reasons. a tryCatcher is not necessary here.\n  protected _next(value: T) {\n    let result: any;\n    try {\n      result = this.predicate.call(this.thisArg, value, this.count++);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    if (result) {\n      this.destination.next(value);\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OperatorFunction } from '../types';\n\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * ![](map.png)\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * ## Example\n * Map every click to the clientX position of that click\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { map } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const positions = clicks.pipe(map(ev => ev.clientX));\n * positions.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nexport function map<T, R>(project: (value: T, index: number) => R, thisArg?: any): OperatorFunction<T, R> {\n  return function mapOperation(source: Observable<T>): Observable<R> {\n    if (typeof project !== 'function') {\n      throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n    }\n    return source.lift(new MapOperator(project, thisArg));\n  };\n}\n\nexport class MapOperator<T, R> implements Operator<T, R> {\n  constructor(private project: (value: T, index: number) => R, private thisArg: any) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass MapSubscriber<T, R> extends Subscriber<T> {\n  count: number = 0;\n  private thisArg: any;\n\n  constructor(destination: Subscriber<R>,\n              private project: (value: T, index: number) => R,\n              thisArg: any) {\n    super(destination);\n    this.thisArg = thisArg || this;\n  }\n\n  // NOTE: This looks unoptimized, but it's actually purposefully NOT\n  // using try/catch optimizations.\n  protected _next(value: T) {\n    let result: R;\n    try {\n      result = this.project.call(this.thisArg, value, this.count++);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.next(result);\n  }\n}\n","/** Symbol.observable or a string \"@@observable\". Used for interop */\nexport const observable = (() => typeof Symbol === 'function' && Symbol.observable || '@@observable')();\n","/** @deprecated do not use, this is no longer checked by RxJS internals */\nexport const rxSubscriber = (() =>\n  typeof Symbol === 'function'\n    ? Symbol('rxSubscriber')\n    : '@@rxSubscriber_' + Math.random())();\n\n/**\n * @deprecated use rxSubscriber instead\n */\nexport const $$rxSubscriber = rxSubscriber;\n","export interface UnsubscriptionError extends Error {\n  readonly errors: any[];\n}\n\nexport interface UnsubscriptionErrorCtor {\n  new(errors: any[]): UnsubscriptionError;\n}\n\nconst UnsubscriptionErrorImpl = (() => {\n  function UnsubscriptionErrorImpl(this: any, errors: any[]) {\n    Error.call(this);\n    this.message = errors ?\n      `${errors.length} errors occurred during unsubscription:\n${errors.map((err, i) => `${i + 1}) ${err.toString()}`).join('\\n  ')}` : '';\n    this.name = 'UnsubscriptionError';\n    this.errors = errors;\n    return this;\n  }\n\n  UnsubscriptionErrorImpl.prototype = Object.create(Error.prototype);\n\n  return UnsubscriptionErrorImpl;\n})();\n\n/**\n * An error thrown when one or more errors have occurred during the\n * `unsubscribe` of a {@link Subscription}.\n */\nexport const UnsubscriptionError: UnsubscriptionErrorCtor = UnsubscriptionErrorImpl as any;","import { Subscriber } from '../Subscriber';\nimport { Subject } from '../Subject';\n\n/**\n * Determines whether the ErrorObserver is closed or stopped or has a\n * destination that is closed or stopped - in which case errors will\n * need to be reported via a different mechanism.\n * @param observer the observer\n */\nexport function canReportError(observer: Subscriber<any> | Subject<any>): boolean {\n  while (observer) {\n    const { closed, destination, isStopped } = observer as any;\n    if (closed || isStopped) {\n      return false;\n    } else if (destination && destination instanceof Subscriber) {\n      observer = destination;\n    } else {\n      observer = null;\n    }\n  }\n  return true;\n}\n","/**\n * Throws an error on another job so that it's picked up by the runtime's\n * uncaught error handling mechanism.\n * @param err the error to throw\n */\nexport function hostReportError(err: any) {\n  setTimeout(() => { throw err; }, 0);\n}","export function identity<T>(x: T): T {\n  return x;\n}\n","export const isArray = (() => Array.isArray || (<T>(x: any): x is T[] => x && typeof x.length === 'number'))();\n","export function isFunction(x: any): x is Function {\n  return typeof x === 'function';\n}\n","export function isObject(x: any): x is Object {\n  return x !== null && typeof x === 'object';\n}\n","import { noop } from './noop';\nimport { identity } from './identity';\nimport { UnaryFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function pipe<T>(): UnaryFunction<T, T>;\nexport function pipe<T, A>(fn1: UnaryFunction<T, A>): UnaryFunction<T, A>;\nexport function pipe<T, A, B>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>): UnaryFunction<T, B>;\nexport function pipe<T, A, B, C>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>): UnaryFunction<T, C>;\nexport function pipe<T, A, B, C, D>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>): UnaryFunction<T, D>;\nexport function pipe<T, A, B, C, D, E>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>): UnaryFunction<T, E>;\nexport function pipe<T, A, B, C, D, E, F>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>): UnaryFunction<T, F>;\nexport function pipe<T, A, B, C, D, E, F, G>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>): UnaryFunction<T, G>;\nexport function pipe<T, A, B, C, D, E, F, G, H>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>, fn8: UnaryFunction<G, H>): UnaryFunction<T, H>;\nexport function pipe<T, A, B, C, D, E, F, G, H, I>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>, fn8: UnaryFunction<G, H>, fn9: UnaryFunction<H, I>): UnaryFunction<T, I>;\nexport function pipe<T, A, B, C, D, E, F, G, H, I>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>, fn8: UnaryFunction<G, H>, fn9: UnaryFunction<H, I>, ...fns: UnaryFunction<any, any>[]): UnaryFunction<T, {}>;\n/* tslint:enable:max-line-length */\n\nexport function pipe(...fns: Array<UnaryFunction<any, any>>): UnaryFunction<any, any> {\n  return pipeFromArray(fns);\n}\n\n/** @internal */\nexport function pipeFromArray<T, R>(fns: Array<UnaryFunction<T, R>>): UnaryFunction<T, R> {\n  if (fns.length === 0) {\n    return identity as UnaryFunction<any, any>;\n  }\n\n  if (fns.length === 1) {\n    return fns[0];\n  }\n\n  return function piped(input: T): R {\n    return fns.reduce((prev: any, fn: UnaryFunction<T, R>) => fn(prev), input as any);\n  };\n}\n","import { Subscriber } from '../Subscriber';\nimport { rxSubscriber as rxSubscriberSymbol } from '../symbol/rxSubscriber';\nimport { empty as emptyObserver } from '../Observer';\nimport { PartialObserver } from '../types';\n\nexport function toSubscriber<T>(\n  nextOrObserver?: PartialObserver<T> | ((value: T) => void),\n  error?: (error: any) => void,\n  complete?: () => void): Subscriber<T> {\n\n  if (nextOrObserver) {\n    if (nextOrObserver instanceof Subscriber) {\n      return (<Subscriber<T>> nextOrObserver);\n    }\n\n    if (nextOrObserver[rxSubscriberSymbol]) {\n      return nextOrObserver[rxSubscriberSymbol]();\n    }\n  }\n\n  if (!nextOrObserver && !error && !complete) {\n    return new Subscriber(emptyObserver);\n  }\n\n  return new Subscriber(nextOrObserver, error, complete);\n}\n","'use strict';\n\nvar url = require('url');\n\nmodule.exports = function(uri1, uri2, ieMode) {\n    if (uri1 === uri2) {\n        return true;\n    }\n\n    var url1 = url.parse(uri1, false, true);\n    var url2 = url.parse(uri2, false, true);\n\n    var url1Port = url1.port|0 || (url1.protocol === 'https' ? 443 : 80);\n    var url2Port = url2.port|0 || (url2.protocol === 'https' ? 443 : 80);\n\n    var match = {\n        proto: url1.protocol === url2.protocol,\n        hostname: url1.hostname === url2.hostname,\n        port: url1Port === url2Port\n    };\n\n    return ((match.proto && match.hostname) && (match.port || ieMode));\n};","/**\n * This file is only used for the browser version of `same-origin`.\n * Used to bring down the size of the browser bundle.\n */\n'use strict';\n\nvar regex = /^(?:(?:(?:([^:\\/#\\?]+:)?(?:(?:\\/\\/)((?:((?:[^:@\\/#\\?]+)(?:\\:(?:[^:@\\/#\\?]+))?)@)?(([^:\\/#\\?\\]\\[]+|\\[[^\\/\\]@#?]+\\])(?:\\:([0-9]+))?))?)?)?((?:\\/?(?:[^\\/\\?#]+\\/+)*)(?:[^\\?#]*)))?(\\?[^#]+)?)(#.*)?/;\n\nmodule.exports = {\n    regex: regex,\n    parse: function(url) {\n        var match = regex.exec(url);\n        if (!match) {\n            return {};\n        }\n\n        return {\n            protocol: (match[1] || '').toLowerCase() || undefined,\n            hostname: (match[5] || '').toLowerCase() || undefined,\n            port: match[6] || undefined\n        };\n    }\n};","'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , CRHTLF = /[\\n\\r\\t]/g\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\\\/]+)?([\\S\\s]*)/i\n  , windowsDriveLetter = /^[a-zA-Z]:/\n  , whitespace = /^[ \\f\\n\\r\\t\\v\\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]+/;\n\n/**\n * Trim a given string.\n *\n * @param {String} str String to trim.\n * @public\n */\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(whitespace, '');\n}\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address, url) {     // Sanitize what is left of the address\n    return isSpecial(url.protocol) ? address.replace(/\\\\/g, '/') : address;\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d+)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') globalVar = window;\n  else if (typeof global !== 'undefined') globalVar = global;\n  else if (typeof self !== 'undefined') globalVar = self;\n  else globalVar = {};\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * Check whether a protocol scheme is special.\n *\n * @param {String} The protocol scheme of the URL\n * @return {Boolean} `true` if the protocol scheme is special, else `false`\n * @private\n */\nfunction isSpecial(scheme) {\n  return (\n    scheme === 'file:' ||\n    scheme === 'ftp:' ||\n    scheme === 'http:' ||\n    scheme === 'https:' ||\n    scheme === 'ws:' ||\n    scheme === 'wss:'\n  );\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @param {Object} location\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address, location) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n  location = location || {};\n\n  var match = protocolre.exec(address);\n  var protocol = match[1] ? match[1].toLowerCase() : '';\n  var forwardSlashes = !!match[2];\n  var otherSlashes = !!match[3];\n  var slashesCount = 0;\n  var rest;\n\n  if (forwardSlashes) {\n    if (otherSlashes) {\n      rest = match[2] + match[3] + match[4];\n      slashesCount = match[2].length + match[3].length;\n    } else {\n      rest = match[2] + match[4];\n      slashesCount = match[2].length;\n    }\n  } else {\n    if (otherSlashes) {\n      rest = match[3] + match[4];\n      slashesCount = match[3].length;\n    } else {\n      rest = match[4]\n    }\n  }\n\n  if (protocol === 'file:') {\n    if (slashesCount >= 2) {\n      rest = rest.slice(2);\n    }\n  } else if (isSpecial(protocol)) {\n    rest = match[4];\n  } else if (protocol) {\n    if (forwardSlashes) {\n      rest = rest.slice(2);\n    }\n  } else if (slashesCount >= 2 && isSpecial(location.protocol)) {\n    rest = match[4];\n  }\n\n  return {\n    protocol: protocol,\n    slashes: forwardSlashes || isSpecial(protocol),\n    slashesCount: slashesCount,\n    rest: rest\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  if (relative === '') return base;\n\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '', location);\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (\n    extracted.protocol === 'file:' && (\n      extracted.slashesCount !== 2 || windowsDriveLetter.test(address)) ||\n    (!extracted.slashes &&\n      (extracted.protocol ||\n        extracted.slashesCount < 2 ||\n        !isSpecial(url.protocol)))\n  ) {\n    instructions[3] = [/(.*)/, 'pathname'];\n  }\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address, url);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      index = parse === '@'\n        ? address.lastIndexOf(parse)\n        : address.indexOf(parse);\n\n      if (~index) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // Default to a / for pathname if none exists. This normalizes the URL\n  // to always have a /\n  //\n  if (url.pathname.charAt(0) !== '/' && isSpecial(url.protocol)) {\n    url.pathname = '/' + url.pathname;\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n\n  if (url.auth) {\n    index = url.auth.indexOf(':');\n\n    if (~index) {\n      url.username = url.auth.slice(0, index);\n      url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n      url.password = url.auth.slice(index + 1);\n      url.password = encodeURIComponent(decodeURIComponent(url.password))\n    } else {\n      url.username = encodeURIComponent(decodeURIComponent(url.auth));\n    }\n\n    url.auth = url.password ? url.username +':'+ url.password : url.username;\n  }\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (/:\\d+$/.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    case 'username':\n    case 'password':\n      url[part] = encodeURIComponent(value);\n      break;\n\n    case 'auth':\n      var index = value.indexOf(':');\n\n      if (~index) {\n        url.username = value.slice(0, index);\n        url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n        url.password = value.slice(index + 1);\n        url.password = encodeURIComponent(decodeURIComponent(url.password));\n      } else {\n        url.username = encodeURIComponent(decodeURIComponent(value));\n      }\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.auth = url.password ? url.username +':'+ url.password : url.username;\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result =\n    protocol +\n    ((url.protocol && url.slashes) || isSpecial(url.protocol) ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  } else if (url.password) {\n    result += ':'+ url.password;\n    result += '@';\n  } else if (\n    url.protocol !== 'file:' &&\n    isSpecial(url.protocol) &&\n    !url.host &&\n    url.pathname !== '/'\n  ) {\n    //\n    // Add back the empty userinfo, otherwise the original invalid URL\n    // might be transformed into a valid one with `url.pathname` as host.\n    //\n    result += '@';\n  }\n\n  result += url.host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = qs;\n\nmodule.exports = Url;\n","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["self","define","EventSource","url","options","SyntaxError","this","URL","setOptions","evs","setTimeout","poll","prototype","CONNECTING","OPEN","CLOSED","defaultOptions","loggingEnabled","loggingPrefix","interval","bufferSizeLimit","silentTimeout","getArgs","evs_buffer_size_limit","xhrHeaders","Accept","option","defaults","hasOwnProperty","console","log","message","readyState","cleanup","cursor","cache","_xhr","XHR","resetNoActivityTimer","err","dispatchEvent","type","data","pollAgain","_pollTimer","clearInterval","_noActivityTimer","abort","close","_onxhrdata","request","isReady","hasError","buffer","getBuffer","length","substring","lastMessageIndex","newcursor","toparse","parseStream","isDone","chunk","i","j","eventType","datas","line","retry","events","normalizeToLF","split","parts","trimWhiteSpace","indexOf","replace","parseInt","isNaN","push","lastEventId","event","MessageEvent","join","window","location","origin","handlers","call","addEventListener","handler","removeEventListener","splice","_noactivityTimer","onerror","onmessage","onopen","urlWithParams","baseURL","params","encodedArgs","key","urlarg","urlize","encodeURIComponent","text","ln2","lastIndexOf","lr2","lrln2","Math","max","str","reTrim","isOldIE","isPolyfill","evs_preamble","XDomainRequest","_request","onprogress","_ready","onload","_loaded","_failed","ontimeout","reqGetArgs","defaultArgs","evs_last_event_id","open","send","useXDomainRequest","rv","responseText","XMLHttpRequest","onreadystatechange","status","headers","header","setRequestHeader","bubbles","cancelBubble","cancelable","Boolean","undefined","responseType","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_i","Symbol","iterator","_s","_e","_arr","_n","_d","next","done","value","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","Object","toString","slice","constructor","name","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","len","arr2","assign","require","_require","map","filter","queryString","validators","AssetsClient","client","optionsFromFile","opts","file","File","filename","preserveFilename","contentType","upload","assetType","body","arguments","validateAssetType","meta","extract","dataset","hasDataset","clientConfig","assetEndpoint","tag","label","title","description","creditLine","source","query","sourceId","id","sourceName","sourceUrl","observable","_requestObservable","method","timeout","uri","concat","isPromiseAPI","pipe","document","toPromise","delete","warn","docId","_id","getImageUrl","ref","_ref","Error","_id$split2","assetId","size","format","_this$client$clientCo","projectId","qs","module","exports","AuthClient","getLoginProviders","logout","generateHelpUrl","validate","warnings","defaultConfig","apiHost","apiVersion","useProjectHostname","LOCALHOSTS","initConfig","config","prevConfig","specifiedConfig","printNoApiVersionSpecifiedWarning","newConfig","projectBased","Promise","helpUrl","isBrowser","hostname","isLocalhost","host","isLocal","token","ignoreBrowserTokenWarning","printBrowserTokenWarning","useCdn","printCdnWarning","requestTagPrefix","requestTag","isDefaultApi","withCredentials","validateApiVersion","hostParts","protocol","cdnHost","cdnUrl","apiDate","Date","getTime","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","getSelection","encodeQueryString","Transaction","Patch","listen","excludeFalsey","param","defValue","getMutationQuery","returnIds","returnDocuments","visibility","skipCrossDatasetReferenceValidation","isResponse","getBody","indexBy","docs","attr","reduce","indexed","doc","create","getDataUrl","operation","path","catalog","baseUri","fetch","mapResponse","filterResponse","res","result","_dataRequest","getDocument","json","documents","getDocuments","ids","_create","createIfNotExists","requireDocumentId","createOrReplace","patch","selector","operations","selection","dataRequest","mutations","mutate","mut","serialize","muts","transactionId","transaction","endpoint","isMutation","isQuery","strQuery","useGet","stringQuery","returnFirst","reqOptions","canUseCdn","results","op","mutation","_excluded","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","enc","_ref$params","_ref$options","q","base","qString","JSON","stringify","Observable","polyfilledEventSource","pick","once","tokenWarning","printTokenWarning","isWindowEventSource","possibleOptions","includeResult","parseEvent","parse","cooerceError","evt","error","extractErrorMessage","_this$clientConfig","listenOpts","observer","listenFor","shouldEmitReconnect","esOptions","Authorization","reconnectTimer","es","getEventSource","stopped","onError","unsubscribe","clearTimeout","onChannelError","onMessage","onDisconnect","complete","validateObject","validateInsert","clone","set","props","_assign","diffMatchPatch","unset","attrs","setIfMissing","_set","$","inc","dec","insert","at","items","_this$_assign","append","prepend","start","deleteCount","startIndex","delCount","delRange","rangeSelector","ifRevisionId","rev","ifRevisionID","toJSON","commit","reset","merge","defaultMutateOptions","trxId","_add","documentId","validateDocumentId","patchOps","isBuilder","DatasetsClient","bind","_modify","edit","list","makeError","ClientError","extractErrorProps","super","ServerError","response","statusCode","responseBody","stringifyBody","details","statusMessage","httpErrorMessage","toLowerCase","getIt","jsonRequest","jsonResponse","progress","_require2","httpError","onResponse","printWarnings","msg","implementation","httpRequest","requester","maxRedirects","defaultRequester","projectHeader","overrides","useGlobalApi","proxy","ProjectsClient","getById","dataMethods","UsersClient","getRequestOptions","SanityClient","assets","datasets","projects","users","auth","observableConfig","withConfig","getUrl","_this","subscriber","subscribe","prop","sel","selectionOpts","fn","returnValue","didCall","_typeof","VALID_ASSET_TYPES","VALID_INSERT_LOCATIONS","val","signature","valid","loc","createWarningPrinter","_console","_len","args","_key","slug","pubsub","middlewareReducer","processOptions","validateOptions","httpRequester","channelNames","middlehooks","createRequester","initMiddleware","loadedMiddleware","middleware","ware","channels","applyMiddleware","context","ongoingRequest","ctx","newMiddleware","objectAssign","urlParse","isReactNative","navigator","has","stringifyQueryString","pairs","item","normalizeTimeout","time","delay","Number","connect","socket","removeUndefined","validUrl","isPlainObject","serializeTypes","tryParse","shouldDecode","global","onReturn","onRequest","xhr","handleProgress","percent","stage","total","loaded","lengthComputable","sameOrigin","parseHeaders","FetchXhr","win","adapter","XmlHttpRequest","hasXhr2","XDR","CrossDomainRequest","timers","cors","injectedResponse","cbTimer","callback","isXdr","delays","aborted","timedOut","stopTimers","timeoutRequest","resetTimers","reduceResponse","onLoad","code","force","_headers","ctrl","_controller","AbortController","textBody","signal","resBody","globalThis","hook","defaultValue","bailEarly","isObject","isObjectObject","ctor","prot","construct","Reflect","captureStackTrace","BaseError","cname","container","get","stack","setFunctionName","f","_","super_","properties","subscribers","idx","publish","trim","string","arg","headersArr","row","index","decode","input","decodeURIComponent","e","encode","prefix","undef","part","parser","exec","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","state","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","resolve","reject","__await","then","unwrapped","previousPromise","callInvokeWithMethodAndArg","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","mark","setPrototypeOf","__proto__","awrap","async","iter","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","caught","hasCatch","hasFinally","finallyEntry","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","port","_isScalar","_subscribe","lift","operator","observerOrNext","sink","toSubscriber","add","useDeprecatedSynchronousErrorHandling","syncErrorThrowable","_trySubscribe","syncErrorThrown","syncErrorValue","canReportError","promiseCtor","getPromiseCtor","subscription","pipeFromArray","x","empty","closed","hostReportError","destinationOrNext","isStopped","destination","Subscriber","SafeSubscriber","rxSubscriber","_next","_error","_complete","_unsubscribeAndRecycle","_parentOrParents","Subscription","_parentSubscriber","isFunction","_context","__tryOrSetError","__tryOrUnsub","wrappedComplete","parent","_unsubscribe","_subscriptions","_ctorUnsubscribe","errors","remove","UnsubscriptionError","flattenUnsubscriptionErrors","sub","teardown","EMPTY","tmp","subscriptions","subscriptionIndex","errs","_enable_super_gross_mode_that_will_cause_bad_things","predicate","thisArg","FilterOperator","FilterSubscriber","count","project","MapOperator","MapSubscriber","random","$$rxSubscriber","UnsubscriptionErrorImpl","fns","identity","nextOrObserver","uri1","uri2","ieMode","url1","url2","url1Port","url2Port","match","proto","regex","required","CRHTLF","slashes","protocolre","windowsDriveLetter","whitespace","trimLeft","rules","address","isSpecial","NaN","ignore","hash","lolcation","finaldestination","Url","unescape","pathname","href","scheme","extractProtocol","rest","forwardSlashes","otherSlashes","slashesCount","relative","extracted","instruction","instructions","last","unshift","up","username","password","char","ins","asyncGeneratorStep","gen","_throw","_asyncToGenerator"],"sourceRoot":""}