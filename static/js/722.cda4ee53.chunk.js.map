{"version":3,"file":"static/js/722.cda4ee53.chunk.js","mappings":"oLAiBe,SAASA,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAClC,OACE,gBAAKC,UAAU,sBAAf,UACE,eAAIA,UAAU,YAAd,SAA2BD,Q,6GCClB,SAASE,EAAT,GAA+D,IAAvCC,EAAsC,EAAtCA,KAAMC,EAAgC,EAAhCA,MAAOC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,YACtDC,GAAQC,EAAAA,EAAAA,GAAuBL,EAAKM,kBAC1C,OACE,iCACE,2EACgCL,EADhC,kCAEeA,EAAQ,EAFvB,iDAG+BA,EAH/B,uEAMgCA,EANhC,uDAO6BA,EAP7B,8HAY2BA,EAZ3B,qGAeiBA,EAAQ,EAfzB,gJAoBiBA,EAAQ,EApBzB,+PAgC6BA,EAhC7B,4SA4CiBA,EAAQ,EA5CzB,2HAiDiBA,EAAQ,EAjDzB,wCAqDA,gBACEH,UAAS,qCAAgCG,EAAhC,YACPC,IAAaD,EAAQ,SAAW,IAElCM,MAAO,CAAEC,IAAa,GAARP,EAAa,IAJ7B,UAME,iBAAKH,UAAU,uBAAf,WACE,mBACEA,UAAU,kBACVW,QAAS,WAELN,EADED,IAAaD,OACHS,EAEAT,IANlB,UAUE,wBAAKD,EAAKW,WAEZ,iBAAKb,UAAU,UAAf,WACE,gBAAKc,wBAAyB,CAAEC,OAAQb,EAAKc,QAC5Cd,EAAKe,eACJ,iBAAKjB,UAAU,SAAf,eAA2BE,EAAKe,mBAGnCX,IACC,gBAAKN,UAAU,WAAf,UACE,gBAAKc,wBAAyB,CAAEC,OAAQT,e,4CCnFvC,SAASY,IACtB,OAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAgCF,EAAAA,EAAAA,eAASP,GAAzC,eAAOR,EAAP,KAAiBC,EAAjB,KACA,GAA0Bc,EAAAA,EAAAA,WAAS,GAAnC,eAAOG,EAAP,KAAcC,EAAd,KAWA,SAASC,EAA4BC,GACnC,IAAMC,EAAeC,MAAMC,KACzBC,SAASC,iBAAiB,qBAEtBC,EAAcJ,MAAMC,KACxBC,SAASC,iBAAiB,wBAGtBE,EAAgBN,EAAaO,SAASR,EAAMS,QAE5CC,EAAeJ,EAAYE,SAASR,EAAMS,QAC3CF,GAAkBG,GACrB9B,OAAYO,GAuChB,OAhBAwB,EAAAA,EAAAA,YAME,WAGE,OAlBFC,MAAM,sDACHC,MAAK,SAACC,GAAD,OAAUA,EAAKC,UACpBF,MAAK,SAACG,GACLpB,EAASoB,EAAKC,WACdnB,GAAS,MAEVoB,OAAM,kBAAMpB,GAAS,MAWtBqB,OAAOC,iBAAiB,QAASrB,GAC1B,WACLoB,OAAOE,oBAAoB,QAAStB,MAGxC,KAIA,UAACuB,EAAA,EAAD,YACE,SAACC,EAAA,EAAD,CAAKnC,MAAM,WACX,gBAAKb,UAAU,iBAAf,UACE,gBAAKA,UAAU,6BAAf,UACE,iBAAKA,UAAU,SAAf,UACGsB,GACC,gBAAKtB,UAAU,mBAAf,UACE,gFAEAoB,EAAM6B,OACR7B,EAAM8B,KAAI,SAAChD,EAAMC,GACf,OACE,SAAC,EAAD,CACED,KAAMA,EAENC,MAAOA,EACPC,SAAUA,EACVC,YAAaA,GAHRF,OAQX,gBAAKH,UAAU,cAAf,UACE,SAACmD,EAAA,EAAD,OAGJ,iBAAKnD,UAAU,SAAf,WACE,SAACF,EAAA,EAAD,qBACA,gBAAKE,UAAU,0B,qBCvGtB,SAASO,EAAuB6C,GACrC,GAAa,IAATA,GAAgBA,EAUpB,OALqBA,EAAMC,WACzB,4BACA,8D","sources":["Components/Structural/PageTitle/PageTitle.js","Pages/Read/Quips/QuipsDisplay/QuipsDisplay.js","Pages/Read/Quips/Quips.js","utils/addDrupalUrlToImageTag/addDrupalUrlToImageTag.js"],"sourcesContent":["// @ts-check\nimport React from \"react\";\nimport \"./PageTitle.scss\";\n\n/**\n * @function PageTitle\n * @description A stylized Page title, that can easily be used across the site\n * on the different pages\n * @param {object} props The JSX props passed to this React component\n * @param {string} props.children The text to render in this title\n * @author Alexander Burdiss\n * @since 5/28/21\n * @version 1.0.0\n * @component\n * @example\n * <PageTitle>Hello, Title!</PageTitle>\n */\nexport default function PageTitle({ children }) {\n  return (\n    <div className=\"PageTitle-Container\">\n      <h1 className=\"PageTitle\">{children}</h1>\n    </div>\n  );\n}\n","// @ts-check\nimport React from \"react\";\nimport { addDrupalUrlToImageTag } from \"../../../../utils/addDrupalUrlToImageTag/addDrupalUrlToImageTag\";\nimport \"./QuipsDisplay.scss\";\n\n/**\n * @namespace QuipsDisplay\n * @function QuipsDisplay\n * @description A wrapper that handles rendering the quips.\n * @param {object} props The JSX props passed to this React component\n * @param {object} props.quip The quip to display in this view.\n * @param {number} props.index\n * @param {number} props.openQuip\n * @param {function} props.setOpenQuip\n * @author Alexander Burdiss\n * @since 5/27/21\n * @version 3.0.2\n * @component\n * @example\n * <QuipsDisplay quip={quip} />\n */\nexport default function QuipsDisplay({ quip, index, openQuip, setOpenQuip }) {\n  const image = addDrupalUrlToImageTag(quip.field_main_image);\n  return (\n    <>\n      <style>{`\n        .QuipsDisplay-Container.Quip${index} {\n          z-index: ${index + 1};\n          animation: sendBackToSpot${index} 1s ease;\n        }\n\n        .QuipsDisplay-Container.Quip${index}.Active {\n          animation: bringToFront${index} 1s ease;\n          z-index: 1000;\n          transform: scale(1.1);\n        }\n\n        @keyframes bringToFront${index} {\n          0% {\n            transform: translateY(0%) scale(1);\n            z-index: ${index + 1};\n          }\n      \n          50% {\n            transform: translateY(-110%) rotate(5deg) rotateX(20deg);\n            z-index: ${index + 1};\n          }\n          51% {\n            z-index: 1000;\n          }\n      \n          100% {\n            transform: translateY(0%) scale(1.1);\n            z-index: 1000;\n          }\n        }\n      \n        @keyframes sendBackToSpot${index} {\n          0% {\n            transform: translateY(0%) scale(1.1);\n            z-index: 1000;\n          }\n      \n          49% {\n            z-index: 1000;\n          }\n\n          50% {\n            transform: translateY(-110%) rotate(5deg) rotateX(20deg);\n            z-index: ${index + 1};\n          }\n      \n          100% {\n            transform: translatey(0%) scale(1);\n            z-index: ${index + 1};\n          }\n        }\n      `}</style>\n      <div\n        className={`QuipsDisplay-Container Quip${index} ${\n          openQuip === index ? \"Active\" : \"\"\n        }`}\n        style={{ top: index * 30 + 80 }}\n      >\n        <div className=\"QuipsInternalWrapper\">\n          <button\n            className=\"QuipTitleButton\"\n            onClick={() => {\n              if (openQuip === index) {\n                setOpenQuip(undefined);\n              } else {\n                setOpenQuip(index);\n              }\n            }}\n          >\n            <h2>{quip.title}</h2>\n          </button>\n          <div className=\"LeftBox\">\n            <div dangerouslySetInnerHTML={{ __html: quip.body }} />\n            {quip.field_author && (\n              <div className=\"Author\">- {quip.field_author}</div>\n            )}\n          </div>\n          {image && (\n            <div className=\"RightBox\">\n              <div dangerouslySetInnerHTML={{ __html: image }} />\n            </div>\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\n","// @ts-check\nimport React, { useEffect, useState } from \"react\";\nimport \"./Quips.scss\";\n\nimport QuipsDisplay from \"./QuipsDisplay/QuipsDisplay\";\nimport PageTitle from \"../../../Components/Structural/PageTitle/PageTitle\";\n\nimport StandardWrapper from \"../../../Components/Structural/StandardWrapper/StandardWrapper\";\nimport SEO from \"../../../Components/Structural/SEO/SEO\";\nimport Loading from \"../../../Components/Structural/Loading/Loading\";\n\n/**\n * @function Quips\n * @description The main parent component for all of the screens and components\n * that are in the Quips tab.\n * @author Alexander Burdiss\n * @since 5/27/21\n * @version 3.2.1\n * @component\n * @example\n * <Quips />\n */\nexport default function Quips() {\n  const [quips, setQuips] = useState([]);\n  const [openQuip, setOpenQuip] = useState(undefined);\n  const [error, setError] = useState(false);\n\n  /**\n   * @function Quips~closeModalWhenTabNotClicked\n   * @description Closes the open Quip if the user clicks anywhere outside the\n   * quip.\n   * @param {Event} event\n   * @author Alexander Burdiss\n   * @since 11/6/21\n   * @version 1.0.0\n   */\n  function closeModalWhenTabNotClicked(event) {\n    const modalButtons = Array.from(\n      document.querySelectorAll(\".QuipTitleButton\")\n    );\n    const modalTitles = Array.from(\n      document.querySelectorAll(\".QuipTitleButton h2\")\n    );\n    // @ts-ignore\n    const buttonClicked = modalButtons.includes(event.target);\n    // @ts-ignore\n    const titleClicked = modalTitles.includes(event.target);\n    if (!buttonClicked && !titleClicked) {\n      setOpenQuip(undefined);\n    }\n  }\n\n  /**\n   * @async\n   * @function Quips~fetchQuips\n   * @description Fetches All of the quips from the drupal backend and adds\n   * them to the state variable in this component.\n   * @author Alexander Burdiss\n   * @since 5/27/21\n   * @version 2.0.0\n   */\n  function fetchQuips() {\n    fetch(\"https://drupal.bedtimeproject.dev/rest/views/quips\")\n      .then((resp) => resp.json())\n      .then((data) => {\n        setQuips(data.reverse());\n        setError(false);\n      })\n      .catch(() => setError(true));\n  }\n\n  useEffect(\n    /**\n     * @function Quips~useEffect~setupComponent\n     * @description Calls all logic required on component setup.\n     * @version 1.0.1\n     */\n    function setupComponent() {\n      fetchQuips();\n      window.addEventListener(\"click\", closeModalWhenTabNotClicked);\n      return () => {\n        window.removeEventListener(\"click\", closeModalWhenTabNotClicked);\n      };\n    },\n    []\n  );\n\n  return (\n    <StandardWrapper>\n      <SEO title=\"Quips\" />\n      <div className=\"QuipsContainer\">\n        <div className=\"Limerick-Display-Container\">\n          <div className=\"Drawer\">\n            {error ? (\n              <div className=\"QuipErrorWrapper\">\n                <p>Please check your connection and reload this page.</p>\n              </div>\n            ) : quips.length ? (\n              quips.map((quip, index) => {\n                return (\n                  <QuipsDisplay\n                    quip={quip}\n                    key={index}\n                    index={index}\n                    openQuip={openQuip}\n                    setOpenQuip={setOpenQuip}\n                  />\n                );\n              })\n            ) : (\n              <div className=\"QuipsLoader\">\n                <Loading />\n              </div>\n            )}\n            <div className=\"drawer\">\n              <PageTitle>Quips</PageTitle>\n              <div className=\"handle\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </StandardWrapper>\n  );\n}\n","// @ts-check\n/**\n * @function addDrupalUrlToImageTag\n * @description Adds a missing drupal URL to an image object. Useful if the\n * REST api returns an image object with a relative path.\n * @param {string} input An image object with an incomplete url, typically\n * returned from a REST endpoint.\n * @returns {string} The same image object with the drupal url added where it\n * is needed to render the image correctly.\n * @author Alexander Burdiss\n * @since 10/2/21\n * @version 1.1.1\n */\nexport function addDrupalUrlToImageTag(input) {\n  if (input == \"\" || !input) {\n    return undefined;\n  }\n\n  // @ts-ignore\n  const correctedUrl = input.replaceAll(\n    'src=\"/sites/default/files',\n    'src=\"https://drupal.bedtimeproject.dev/sites/default/files'\n  );\n\n  return correctedUrl;\n}\n"],"names":["PageTitle","children","className","QuipsDisplay","quip","index","openQuip","setOpenQuip","image","addDrupalUrlToImageTag","field_main_image","style","top","onClick","undefined","title","dangerouslySetInnerHTML","__html","body","field_author","Quips","useState","quips","setQuips","error","setError","closeModalWhenTabNotClicked","event","modalButtons","Array","from","document","querySelectorAll","modalTitles","buttonClicked","includes","target","titleClicked","useEffect","fetch","then","resp","json","data","reverse","catch","window","addEventListener","removeEventListener","StandardWrapper","SEO","length","map","Loading","input","replaceAll"],"sourceRoot":""}