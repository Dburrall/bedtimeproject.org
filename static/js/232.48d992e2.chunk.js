(self.webpackChunkthe_bedtime_project=self.webpackChunkthe_bedtime_project||[]).push([[232],{108:function(t,n,i){"use strict";i.d(n,{Z:function(){return r}});i(9867);var e=i(2834);function r(t){var n=t.children;return(0,e.jsx)("div",{className:"PageTitle-Container",children:(0,e.jsx)("h1",{className:"PageTitle",children:n})})}},2232:function(t,n,i){"use strict";i.r(n),i.d(n,{default:function(){return m}});var e=i(3430),r=i(9867),o=i(6394),s=i.n(o),a=i(4624),h=i(9013),p=i(2834);function c(t){var n=t.quip,i=t.index,e=t.openQuip,r=t.setOpenQuip;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("style",{children:"\n        .QuipsDisplay-Container.Quip".concat(i," {\n          z-index: ").concat(i+1,";\n          animation: sendBackToSpot").concat(i," 1s ease;\n        }\n\n        .QuipsDisplay-Container.Quip").concat(i,".Active {\n          animation: bringToFront").concat(i," 1s ease;\n          z-index: 1000;\n          transform: scale(1.1);\n        }\n\n        @keyframes bringToFront").concat(i," {\n          0% {\n            transform: translateY(0%) scale(1);\n            z-index: ").concat(i+1,";\n          }\n      \n          50% {\n            transform: translateY(-110%) rotate(5deg) rotateX(20deg);\n            z-index: ").concat(i+1,";\n          }\n          51% {\n            z-index: 1000;\n          }\n      \n          100% {\n            transform: translateY(0%) scale(1.1);\n            z-index: 1000;\n          }\n        }\n      \n        @keyframes sendBackToSpot").concat(i," {\n          0% {\n            transform: translateY(0%) scale(1.1);\n            z-index: 1000;\n          }\n      \n          49% {\n            z-index: 1000;\n          }\n\n          50% {\n            transform: translateY(-110%) rotate(5deg) rotateX(20deg);\n            z-index: ").concat(i+1,";\n          }\n      \n          100% {\n            transform: translatey(0%) scale(1);\n            z-index: ").concat(i+1,";\n          }\n        }\n      ")}),(0,p.jsx)("div",{className:"QuipsDisplay-Container Quip".concat(i," ").concat(e===i?"Active":""),style:{top:30*i+80},children:(0,p.jsxs)("div",{className:"QuipsInternalWrapper",children:[(0,p.jsx)("button",{className:"QuipTitleButton",onClick:function(){r(e===i?void 0:i)},children:(0,p.jsx)("h2",{children:n.title})}),(0,p.jsxs)("div",{className:"LeftBox",children:[(0,p.jsx)(s(),{blocks:n.body,projectId:h.Z.config().projectId,dataset:h.Z.config().dataset}),n.author&&(0,p.jsxs)("div",{className:"Author",children:["- ",n.author]})]}),n.mainImage&&(0,p.jsx)("div",{className:"RightBox",children:(0,p.jsx)("img",{src:(0,a.s)(n.mainImage).url(),alt:n.alt})})]})})]})}var u=i(108),l=i(1153),d=i(2737),f=i(8212);function m(){var t=(0,r.useState)([]),n=(0,e.Z)(t,2),i=n[0],o=n[1],s=(0,r.useState)(void 0),a=(0,e.Z)(s,2),m=a[0],g=a[1],w=(0,r.useState)(!1),y=(0,e.Z)(w,2),x=y[0],v=y[1];function j(t){var n=Array.from(document.querySelectorAll(".QuipTitleButton")),i=Array.from(document.querySelectorAll(".QuipTitleButton h2")),e=n.includes(t.target),r=i.includes(t.target);e||r||g(void 0)}return(0,r.useEffect)((function(){return h.Z.fetch('*[_type == "quip" && dateTime(publishedAt) < dateTime(now())][0...16] | order(publishedAt) {\n        title,\n        author,\n        mainImage,\n        alt,\n        mainImageAuthor,\n        body,\n        publishedAt,\n      }').then(o).catch((function(){return v(!0)})),window.addEventListener("click",j),function(){window.removeEventListener("click",j)}}),[]),(0,p.jsxs)(l.Z,{children:[(0,p.jsx)(d.Z,{title:"Quips"}),(0,p.jsx)("div",{className:"QuipsContainer",children:(0,p.jsx)("div",{className:"Limerick-Display-Container",children:(0,p.jsxs)("div",{className:"Drawer",children:[x?(0,p.jsx)("div",{className:"QuipErrorWrapper",children:(0,p.jsx)("p",{children:"Please check your connection and reload this page."})}):i.length?i.map((function(t,n){return(0,p.jsx)(c,{quip:t,index:n,openQuip:m,setOpenQuip:g},n)})):(0,p.jsx)("div",{className:"QuipsLoader",children:(0,p.jsx)(f.Z,{})}),(0,p.jsxs)("div",{className:"drawer",children:[(0,p.jsx)(u.Z,{children:"Quips"}),(0,p.jsx)("div",{className:"handle"})]})]})})})]})}},4624:function(t,n,i){"use strict";i.d(n,{s:function(){return a}});var e=i(9295),r=i.n(e),o=i(9013),s=r()(o.Z);function a(t){return s.image(t)}},9295:function(t){t.exports=function(){var t="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function n(n){var i=n.split("-"),e=i[1],r=i[2],o=i[3];if(!e||!r||!o)throw new Error("Malformed asset _ref '"+n+"'. Expected an id like \""+t+'".');var s=r.split("x"),a=+s[0],h=+s[1];if(!isFinite(a)||!isFinite(h))throw new Error("Malformed asset _ref '"+n+"'. Expected an id like \""+t+'".');return{id:e,width:a,height:h,format:o}}var i=function(t){return!!t&&"string"===typeof t._ref},e=function(t){return!!t&&"string"===typeof t._id},r=function(t){var n=t;return!(!n||!n.asset)&&"string"===typeof n.asset.url};function o(t){if(!t)return null;var n;if("string"===typeof t&&s(t))n={asset:{_ref:a(t)}};else if("string"===typeof t)n={asset:{_ref:t}};else if(i(t))n={asset:t};else if(e(t))n={asset:{_ref:t._id||""}};else if(r(t))n={asset:{_ref:a(t.asset.url)}};else{if("object"!==typeof t.asset)return null;n=t}var o=t;return o.crop&&(n.crop=o.crop),o.hotspot&&(n.hotspot=o.hotspot),h(n)}function s(t){return/^https?:\/\//.test(""+t)}function a(t){return("image-"+t.split("/").slice(-1)[0]).replace(/\.([a-z]+)$/,"-$1")}function h(t){if(t.crop&&t.hotspot)return t;var n=Object.assign({},t);return n.crop||(n.crop={left:0,top:0,bottom:0,right:0}),n.hotspot||(n.hotspot={x:.5,y:.5,height:1,width:1}),n}var p=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function c(t){var i=Object.assign({},t||{}),e=i.source;delete i.source;var r=o(e);if(!r)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(e)+")");var s=n(r.asset._ref||r.asset._id||""),a=Math.round(r.crop.left*s.width),h=Math.round(r.crop.top*s.height),p={left:a,top:h,width:Math.round(s.width-r.crop.right*s.width-a),height:Math.round(s.height-r.crop.bottom*s.height-h)},c=r.hotspot.height*s.height/2,d=r.hotspot.width*s.width/2,f=r.hotspot.x*s.width,m=r.hotspot.y*s.height,g={left:f-d,top:m-c,right:f+d,bottom:m+c};return i.rect||i.focalPoint||i.ignoreImageParams||i.crop||(i=Object.assign({},i,l({crop:p,hotspot:g},i))),u(Object.assign({},i,{asset:s}))}function u(t){var n=t.baseUrl||"https://cdn.sanity.io",i=t.asset.id+"-"+t.asset.width+"x"+t.asset.height+"."+t.asset.format,e=n+"/images/"+t.projectId+"/"+t.dataset+"/"+i,r=[];if(t.rect){var o=t.rect,s=o.left,a=o.top,h=o.width,c=o.height;(0!==s||0!==a||c!==t.asset.height||h!==t.asset.width)&&r.push("rect="+s+","+a+","+h+","+c)}t.bg&&r.push("bg="+t.bg),t.focalPoint&&(r.push("fp-x="+t.focalPoint.x),r.push("fp-y="+t.focalPoint.y));var u=[t.flipHorizontal&&"h",t.flipVertical&&"v"].filter(Boolean).join("");return u&&r.push("flip="+u),p.forEach((function(n){var i=n[0],e=n[1];"undefined"!==typeof t[i]?r.push(e+"="+encodeURIComponent(t[i])):"undefined"!==typeof t[e]&&r.push(e+"="+encodeURIComponent(t[e]))})),0===r.length?e:e+"?"+r.join("&")}function l(t,n){var i,e=n.width,r=n.height;if(!e||!r)return{width:e,height:r,rect:t.crop};var o=t.crop,s=t.hotspot,a=e/r;if(o.width/o.height>a){var h=Math.round(o.height),p=Math.round(h*a),c=Math.max(0,Math.round(o.top)),u=Math.round((s.right-s.left)/2+s.left),l=Math.max(0,Math.round(u-p/2));l<o.left?l=o.left:l+p>o.left+o.width&&(l=o.left+o.width-p),i={left:l,top:c,width:p,height:h}}else{var d=o.width,f=Math.round(d/a),m=Math.max(0,Math.round(o.left)),g=Math.round((s.bottom-s.top)/2+s.top),w=Math.max(0,Math.round(g-f/2));w<o.top?w=o.top:w+f>o.top+o.height&&(w=o.top+o.height-f),i={left:m,top:w,width:d,height:f}}return{width:e,height:r,rect:i}}var d=["clip","crop","fill","fillmax","max","scale","min"],f=["top","bottom","left","right","center","focalpoint","entropy"],m=["format"];function g(t){return!!t&&"object"===typeof t.clientConfig}function w(t){for(var n=0,i=p;n<i.length;n+=1){var e=i[n],r=e[0],o=e[1];if(t===r||t===o)return r}return t}function y(t){var n=t;if(g(n)){var i=n.clientConfig,e=i.apiHost,r=i.projectId,o=i.dataset;return new x(null,{baseUrl:(e||"https://api.sanity.io").replace(/^https:\/\/api\./,"https://cdn."),projectId:r,dataset:o})}return new x(null,t)}var x=function(t,n){this.options=t?Object.assign({},t.options||{},n||{}):Object.assign({},n||{})};return x.prototype.withOptions=function(t){var n=t.baseUrl||this.options.baseUrl,i={baseUrl:n};for(var e in t)t.hasOwnProperty(e)&&(i[w(e)]=t[e]);return new x(this,Object.assign({},{baseUrl:n},i))},x.prototype.image=function(t){return this.withOptions({source:t})},x.prototype.dataset=function(t){return this.withOptions({dataset:t})},x.prototype.projectId=function(t){return this.withOptions({projectId:t})},x.prototype.bg=function(t){return this.withOptions({bg:t})},x.prototype.dpr=function(t){return this.withOptions(t&&1!==t?{dpr:t}:{})},x.prototype.width=function(t){return this.withOptions({width:t})},x.prototype.height=function(t){return this.withOptions({height:t})},x.prototype.focalPoint=function(t,n){return this.withOptions({focalPoint:{x:t,y:n}})},x.prototype.maxWidth=function(t){return this.withOptions({maxWidth:t})},x.prototype.minWidth=function(t){return this.withOptions({minWidth:t})},x.prototype.maxHeight=function(t){return this.withOptions({maxHeight:t})},x.prototype.minHeight=function(t){return this.withOptions({minHeight:t})},x.prototype.size=function(t,n){return this.withOptions({width:t,height:n})},x.prototype.blur=function(t){return this.withOptions({blur:t})},x.prototype.sharpen=function(t){return this.withOptions({sharpen:t})},x.prototype.rect=function(t,n,i,e){return this.withOptions({rect:{left:t,top:n,width:i,height:e}})},x.prototype.format=function(t){return this.withOptions({format:t})},x.prototype.invert=function(t){return this.withOptions({invert:t})},x.prototype.orientation=function(t){return this.withOptions({orientation:t})},x.prototype.quality=function(t){return this.withOptions({quality:t})},x.prototype.forceDownload=function(t){return this.withOptions({download:t})},x.prototype.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},x.prototype.flipVertical=function(){return this.withOptions({flipVertical:!0})},x.prototype.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},x.prototype.fit=function(t){if(-1===d.indexOf(t))throw new Error('Invalid fit mode "'+t+'"');return this.withOptions({fit:t})},x.prototype.crop=function(t){if(-1===f.indexOf(t))throw new Error('Invalid crop mode "'+t+'"');return this.withOptions({crop:t})},x.prototype.saturation=function(t){return this.withOptions({saturation:t})},x.prototype.auto=function(t){if(-1===m.indexOf(t))throw new Error('Invalid auto mode "'+t+'"');return this.withOptions({auto:t})},x.prototype.pad=function(t){return this.withOptions({pad:t})},x.prototype.url=function(){return c(this.options)},x.prototype.toString=function(){return this.url()},y}()}}]);
//# sourceMappingURL=232.48d992e2.chunk.js.map