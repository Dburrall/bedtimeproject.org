{"version":3,"file":"static/js/267.29f2bceb.chunk.js","mappings":"wMAae,SAASA,EAAT,GAAsD,IAA3BC,EAA0B,EAA1BA,SAAUC,EAAgB,EAAhBA,aAClD,OACE,iBAAKC,UAAU,4BAAf,WACE,0BACE,oDAEDF,IACC,gBAAKE,UAAU,WAAf,UACE,SAAC,KAAD,CAAMC,GAAIH,EAAV,SAAqBC,S,cCJhB,SAASG,EAAT,GAA4D,IAAtCC,EAAqC,EAArCA,UAAWL,EAA0B,EAA1BA,SAAUC,EAAgB,EAAhBA,aACxD,OAAOI,GACL,gBAAKH,UAAU,uBAAf,SACGG,EAAUC,OACT,qBAASJ,UAAU,kBAAnB,WACE,iBAAKA,UAAU,sBAAf,WACE,SAACK,EAAA,EAAD,UAAYF,EAAUC,QACrBD,EAAUG,eAAgB,iCAASH,EAAUG,oBAEhD,gBAAKN,UAAU,WAAf,SACGG,EAAUI,iBACT,gBACEC,wBAAyB,CAAEC,OAAQN,EAAUI,oBAIN,QAA5CJ,EAAUO,iCACT,SAAC,EAAD,CAAiBZ,SAAUA,EAAUC,aAAcA,QAIvD,gBAAKC,UAAU,+BAAf,UACE,SAACW,EAAA,EAAD,CAASC,MAAM,gBAInB,O,0EC1BS,SAASP,EAAT,GAAkC,IAAbQ,EAAY,EAAZA,SAClC,OACE,gBAAKb,UAAU,sBAAf,UACE,eAAIA,UAAU,YAAd,SAA2Ba,Q,mLCElB,SAASC,IACtB,IAAIC,GAASC,EAAAA,EAAAA,MACLC,GAAUC,EAAAA,EAAAA,YAAWC,EAAAA,GAArBF,MACR,GAAgCG,EAAAA,EAAAA,UAAS,CAAEhB,WAAOiB,IAAlD,eAAOC,EAAP,KAAiBC,EAAjB,KAiCA,OA/BAC,EAAAA,EAAAA,YASE,WAAwB,IAAD,EACfC,EAAU,OAAGR,QAAH,IAAGA,GAAH,UAAGA,EAAOS,aAAV,aAAG,EAAcC,MAAK,SAACC,GAErC,OADiBC,EAAAA,EAAAA,GAAgBD,EAAIxB,SACjBW,EAAOe,QAE7BC,MACE,mEACEN,QADF,IACEA,OADF,EACEA,EAAYrB,QAEb4B,MAAK,SAACC,GAAD,OAAUA,EAAKC,UACpBF,MAAK,SAACG,GAAU,IAAD,EACRC,GAAyB,kBAC1BD,EAAK,IADqB,IAE7B5B,gBAAgB8B,EAAAA,EAAAA,GAAsB,UAACF,EAAK,UAAN,aAAC,EAAS5B,kBAElDgB,EAAYa,QAIlB,CAACnB,EAAMS,SAIP,UAACY,EAAA,EAAD,YACE,SAACC,EAAA,EAAD,CAAKnC,MAAOkB,EAASlB,SACrB,SAACF,EAAA,EAAD,CACEC,UAAWmB,EACXxB,SAAS,gBACTC,aAAa,yB,qBCnDd,SAASsC,EAAuBG,GACrC,GAAa,IAATA,GAAgBA,EAUpB,OALqBA,EAAMC,WACzB,4BACA,8D,sDCRG,SAASZ,EAAgBW,GAU9B,OATkBA,EAEfC,WAAW,IAAK,IAChBA,WAAW,IAAK,IAChBA,WAAW,IAAK,IAChBA,WAAW,IAAK,IAChBA,WAAW,KAAM,KACjBA,WAAW,IAAK,KAChBC,c","sources":["Components/General/MoreContentSoon/MoreContentSoon.js","Components/General/PaperStory/PaperStory.js","Components/Structural/PageTitle/PageTitle.js","Pages/Read/Tales/Tale/Tale.js","utils/addDrupalUrlToImageTag/addDrupalUrlToImageTag.js","utils/formatUrlString/formatUrlString.js"],"sourcesContent":["// @ts-check\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./MoreContentSoon.scss\";\n\n/**\n * @namespace MoreContentSoon\n * @function MoreContentSoon\n * @author Alexander Burdiss\n * @since 10/16/21\n * @version 1.0.0\n * @component\n */\nexport default function MoreContentSoon({ backLink, backLinkText }) {\n  return (\n    <div className=\"MoreContentSoon-Container\">\n      <div>\n        <strong>More Coming Soon!</strong>\n      </div>\n      {backLink && (\n        <div className=\"Backlink\">\n          <Link to={backLink}>{backLinkText}</Link>\n        </div>\n      )}\n    </div>\n  );\n}\n","// @ts-check\nimport React from \"react\";\nimport \"./PaperStory.scss\";\n\nimport PageTitle from \"../../Structural/PageTitle/PageTitle\";\nimport MoreContentSoon from \"../MoreContentSoon/MoreContentSoon\";\nimport Loading from \"../../Structural/Loading/Loading\";\n\n/**\n * @namespace PaperStory\n * @function PaperStory\n * @description Displays one paper story for the site.\n * @author Alexander Burdiss\n * @since 10/17/21\n * @version 1.2.0\n * @component\n */\nexport default function PaperStory({ storyData, backLink, backLinkText }) {\n  return storyData ? (\n    <div className=\"PaperStory-Container\">\n      {storyData.title ? (\n        <article className=\"Paper-Container\">\n          <div className=\"Heading-Information\">\n            <PageTitle>{storyData.title}</PageTitle>\n            {storyData.field_author && <div>By {storyData.field_author}</div>}\n          </div>\n          <div className=\"Chapters\">\n            {storyData.field_chapters && (\n              <div\n                dangerouslySetInnerHTML={{ __html: storyData.field_chapters }}\n              />\n            )}\n          </div>\n          {storyData.field_more_content_coming_soon == \"True\" && (\n            <MoreContentSoon backLink={backLink} backLinkText={backLinkText} />\n          )}\n        </article>\n      ) : (\n        <div className=\"PaperStory-Loading-Container\">\n          <Loading color=\"#FFFFFF\" />\n        </div>\n      )}\n    </div>\n  ) : null;\n}\n","// @ts-check\nimport React from \"react\";\nimport \"./PageTitle.scss\";\n\n/**\n * @function PageTitle\n * @description A stylized Page title, that can easily be used across the site\n * on the different pages\n * @param {object} props The JSX props passed to this React component\n * @param {string} props.children The text to render in this title\n * @author Alexander Burdiss\n * @since 5/28/21\n * @version 1.0.0\n * @component\n * @example\n * <PageTitle>Hello, Title!</PageTitle>\n */\nexport default function PageTitle({ children }) {\n  return (\n    <div className=\"PageTitle-Container\">\n      <h1 className=\"PageTitle\">{children}</h1>\n    </div>\n  );\n}\n","// @ts-check\nimport React, { useState, useEffect, useContext } from \"react\";\nimport \"./Tale.scss\";\n\nimport SEO from \"../../../../Components/Structural/SEO/SEO\";\nimport PaperStory from \"../../../../Components/General/PaperStory/PaperStory\";\nimport { addDrupalUrlToImageTag } from \"../../../../utils/addDrupalUrlToImageTag/addDrupalUrlToImageTag\";\nimport { useParams } from \"react-router-dom\";\nimport StandardWrapper from \"../../../../Components/Structural/StandardWrapper/StandardWrapper\";\nimport { AppContext } from \"../../../../Contexts/AppContext\";\nimport { formatUrlString } from \"../../../../utils/formatUrlString/formatUrlString\";\n\n/**\n * @namespace Tale\n * @function Tale\n * @description Handles fetching the data for an individual tale, and\n * passing that data to PaperStory.\n * @author Alexander Burdiss\n * @since 10/17/21\n * @version 2.0.0\n * @component\n */\nexport default function Tale() {\n  let params = useParams();\n  const { state } = useContext(AppContext);\n  const [taleData, setTaleData] = useState({ title: undefined });\n\n  useEffect(\n    /**\n     * @function Tale~useEffect~getTaleData\n     * @description Handles fetching the tale data for the tale being visited\n     * on page load.\n     * @author Alexander Burdiss\n     * @since 10/16/21\n     * @version 1.0.0\n     */\n    function getTaleData() {\n      const storedTale = state?.tales?.find((obj) => {\n        const urlTitle = formatUrlString(obj.title);\n        return urlTitle === params.tale;\n      });\n      fetch(\n        \"https://drupal.bedtimeproject.dev/rest/views/tale?title=\" +\n          storedTale?.title\n      )\n        .then((resp) => resp.json())\n        .then((data) => {\n          const dataWithProcessedChapters = {\n            ...data[0],\n            field_chapters: addDrupalUrlToImageTag(data[0]?.field_chapters),\n          };\n          setTaleData(dataWithProcessedChapters);\n        });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [state.tales]\n  );\n\n  return (\n    <StandardWrapper>\n      <SEO title={taleData.title} />\n      <PaperStory\n        storyData={taleData}\n        backLink=\"/read/stories\"\n        backLinkText=\"Back to Stories\"\n      />\n    </StandardWrapper>\n  );\n}\n","// @ts-check\n/**\n * @function addDrupalUrlToImageTag\n * @description Adds a missing drupal URL to an image object. Useful if the\n * REST api returns an image object with a relative path.\n * @param {string} input An image object with an incomplete url, typically\n * returned from a REST endpoint.\n * @returns {string} The same image object with the drupal url added where it\n * is needed to render the image correctly.\n * @author Alexander Burdiss\n * @since 10/2/21\n * @version 1.1.1\n */\nexport function addDrupalUrlToImageTag(input) {\n  if (input == \"\" || !input) {\n    return undefined;\n  }\n\n  // @ts-ignore\n  const correctedUrl = input.replaceAll(\n    'src=\"/sites/default/files',\n    'src=\"https://drupal.bedtimeproject.dev/sites/default/files'\n  );\n\n  return correctedUrl;\n}\n","// @ts-check\n/**\n * @function formatUrlString\n * @description Formats a string to be used as an argument in React Router, so\n * that Drupal titles don't break the router.\n * @param {string} input The title of the content type, to be used as a part of\n * a url.\n * @returns {string} A formatted version of the title that will work better\n * with React Router.\n * @author Alexander Burdiss\n * @since 10/16/21\n * @version 1.2.3\n */\nexport function formatUrlString(input) {\n  const tempInput = input\n    // @ts-ignore\n    .replaceAll(\".\", \"\")\n    .replaceAll(\"-\", \"\")\n    .replaceAll(\"(\", \"\")\n    .replaceAll(\")\", \"\")\n    .replaceAll(\"  \", \" \")\n    .replaceAll(\" \", \"-\")\n    .toLowerCase();\n  return tempInput;\n}\n"],"names":["MoreContentSoon","backLink","backLinkText","className","to","PaperStory","storyData","title","PageTitle","field_author","field_chapters","dangerouslySetInnerHTML","__html","field_more_content_coming_soon","Loading","color","children","Tale","params","useParams","state","useContext","AppContext","useState","undefined","taleData","setTaleData","useEffect","storedTale","tales","find","obj","formatUrlString","tale","fetch","then","resp","json","data","dataWithProcessedChapters","addDrupalUrlToImageTag","StandardWrapper","SEO","input","replaceAll","toLowerCase"],"sourceRoot":""}